import{aP as Fe,O as Me,Q as ze,U as fe,R as ke,ap as $e,aQ as Ne,Y as R,z as K,ar as Ce,a2 as dt,a0 as Se,L as T,ai as Re,a7 as ie,N as pe,j as $,aR as ae,aS as ue,aT as je,aU as Te,a1 as Ae,a3 as Ue,a6 as ne,d as z,x as qe,y as U,o as C,c as F,w as O,g as Q,n as w,u as b,a9 as H,k as L,aN as ce,aw as P,aV as he,A as le,F as ve,v as we,t as ge,ab as M,r as Ie,B as Z,h as Ge,G as rt,H as it,a8 as J,aW as ut,aX as ct,C as ht,D as _e,X as Ee,a5 as ft,aY as Ve,aZ as be,a_ as pt,ad as vt,a$ as gt,b0 as mt,am as G,af as De,a as V,s as Le,ao as bt,J as Oe,K as yt,as as kt,b1 as Nt,aj as q,b2 as Ct,$ as Et,b3 as Dt,aB as xt,ac as He,_ as We,p as Kt,av as St,at as wt,aO as ye,q as It,E as Lt}from"./index-DQ3UFvwR.js";import{_ as Bt}from"./table-column-items-editor.vue_vue_type_style_index_0_scoped_64707d73_lang-D9oVkQe-.js";import"./constants-nM1znXF_.js";import{d as $t,i as Tt,a as At,E as Vt}from"./index-C4Bk5V8-.js";import{_ as Ot}from"./index--J-lajjB.js";const Pt=(e,t,a)=>{const{id:o="id",label:n="label",children:l="children",returnType:s="ids"}={};return s==="names"?Mt(e,de(t,{id:o,children:l}),{id:o,label:n}):s==="ids"?Ft(e,de(t,{id:o,children:l}),{id:o}):zt(e,de(t,{id:o,children:l}),{id:o})};function de(e,t){const{id:a="id",children:o="children",parentId:n}=t??{};return e.reduce((l,s)=>[...l,typeof n>"u"?s:{...s,parentId:n},...s[o]&&s[o].length?de(s[o],{id:a,children:o,parentId:s[a]}):[]],[])}function Ft(e,t,a){const{id:o="id"}=a??{};let n=[e],l=t.find(s=>s[o]===e);for(;l&&typeof l.parentId<"u";)n=[l.parentId,...n],l=t.find(s=>s[o]===l.parentId);return n}function Mt(e,t,a){const{id:o="id",label:n="label"}=a??{};let l=t.find(d=>d[o]===e),s=l&&[l[n]]||[];for(;l&&typeof l.parentId<"u";)s=[t.find(p=>p[o]===l.parentId)[n],...s],l=t.find(p=>p[o]===l.parentId);return s}function zt(e,t,a){const{id:o="id"}=a??{};let n=t.find(s=>s[o]===e),l=n&&[n]||[];for(;n&&typeof n.parentId<"u";)l=[t.find(d=>d[o]===n.parentId),...l],n=t.find(d=>d[o]===n.parentId);return l}const Rt=(e,t,a)=>{const{id:o="id",children:n="children"}={};return Ye(e,t,{id:o,children:n})};function Ye(e,t,a){const{id:o="id",children:n="children"}=a??{};for(const l of t){if(l[o]===e)return l;l[n]&&l[n].length&&Ye(e,l[n],{id:o,children:n})}}function jt(e){return e&&e.length?e[0]:void 0}var Ut="Expected a function";function qt(e,t,a){var o=!0,n=!0;if(typeof e!="function")throw new TypeError(Ut);return Fe(a)&&(o="leading"in a?!!a.leading:o,n="trailing"in a?!!a.trailing:n),$t(e,t,{leading:o,maxWait:t,trailing:n})}const Xe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Me,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...ze(["ariaControls"])},Qe={[fe]:e=>ke(e)||$e(e)||Ne(e),change:e=>ke(e)||$e(e)||Ne(e)},ee=Symbol("checkboxGroupContextKey"),Gt=({model:e,isChecked:t})=>{const a=R(ee,void 0),o=K(()=>{var l,s;const d=(l=a==null?void 0:a.max)==null?void 0:l.value,p=(s=a==null?void 0:a.min)==null?void 0:s.value;return!Ce(d)&&e.value.length>=d&&!t.value||!Ce(p)&&e.value.length<=p&&t.value});return{isDisabled:dt(K(()=>(a==null?void 0:a.disabled.value)||o.value)),isLimitDisabled:o}},_t=(e,{model:t,isLimitExceeded:a,hasOwnLabel:o,isDisabled:n,isLabeledByFormItem:l})=>{const s=R(ee,void 0),{formItem:d}=Se(),{emit:p}=pe();function g(r){var f,k,m,h;return[!0,e.trueValue,e.trueLabel].includes(r)?(k=(f=e.trueValue)!=null?f:e.trueLabel)!=null?k:!0:(h=(m=e.falseValue)!=null?m:e.falseLabel)!=null?h:!1}function i(r,f){p("change",g(r),f)}function u(r){if(a.value)return;const f=r.target;p("change",g(f.checked),r)}async function c(r){a.value||!o.value&&!n.value&&l.value&&(r.composedPath().some(m=>m.tagName==="LABEL")||(t.value=g([!1,e.falseValue,e.falseLabel].includes(t.value)),await ie(),i(t.value,r)))}const v=K(()=>(s==null?void 0:s.validateEvent)||e.validateEvent);return T(()=>e.modelValue,()=>{v.value&&(d==null||d.validate("change").catch(r=>Re()))}),{handleChange:u,onClickRoot:c}},Ht=e=>{const t=$(!1),{emit:a}=pe(),o=R(ee,void 0),n=K(()=>Ce(o)===!1),l=$(!1),s=K({get(){var d,p;return n.value?(d=o==null?void 0:o.modelValue)==null?void 0:d.value:(p=e.modelValue)!=null?p:t.value},set(d){var p,g;n.value&&ae(d)?(l.value=((p=o==null?void 0:o.max)==null?void 0:p.value)!==void 0&&d.length>(o==null?void 0:o.max.value)&&d.length>s.value.length,l.value===!1&&((g=o==null?void 0:o.changeEvent)==null||g.call(o,d))):(a(fe,d),t.value=d)}});return{model:s,isGroup:n,isLimitExceeded:l}},Wt=(e,t,{model:a})=>{const o=R(ee,void 0),n=$(!1),l=K(()=>ue(e.value)?e.label:e.value),s=K(()=>{const i=a.value;return Ne(i)?i:ae(i)?je(l.value)?i.map(Te).some(u=>Tt(u,l.value)):i.map(Te).includes(l.value):i!=null?i===e.trueValue||i===e.trueLabel:!!i}),d=Ae(K(()=>{var i;return(i=o==null?void 0:o.size)==null?void 0:i.value}),{prop:!0}),p=Ae(K(()=>{var i;return(i=o==null?void 0:o.size)==null?void 0:i.value})),g=K(()=>!!t.default||!ue(l.value));return{checkboxButtonSize:d,isChecked:s,isFocused:n,checkboxSize:p,hasOwnLabel:g,actualValue:l}},Je=(e,t)=>{const{formItem:a}=Se(),{model:o,isGroup:n,isLimitExceeded:l}=Ht(e),{isFocused:s,isChecked:d,checkboxButtonSize:p,checkboxSize:g,hasOwnLabel:i,actualValue:u}=Wt(e,t,{model:o}),{isDisabled:c}=Gt({model:o,isChecked:d}),{inputId:v,isLabeledByFormItem:r}=Ue(e,{formItemContext:a,disableIdGeneration:i,disableIdManagement:n}),{handleChange:f,onClickRoot:k}=_t(e,{model:o,isLimitExceeded:l,hasOwnLabel:i,isDisabled:c,isLabeledByFormItem:r});return(()=>{function h(){var x,A;ae(o.value)&&!o.value.includes(u.value)?o.value.push(u.value):o.value=(A=(x=e.trueValue)!=null?x:e.trueLabel)!=null?A:!0}e.checked&&h()})(),ne({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>!!e.controls)),ne({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>n.value&&ue(e.value))),ne({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>!!e.trueLabel)),ne({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>!!e.falseLabel)),{inputId:v,isLabeledByFormItem:r,isChecked:d,isDisabled:c,isFocused:s,checkboxButtonSize:p,checkboxSize:g,hasOwnLabel:i,model:o,actualValue:u,handleChange:f,onClickRoot:k}},Yt=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Xt=["id","indeterminate","disabled","value","name","tabindex"],Qt=z({name:"ElCheckbox"}),Jt=z({...Qt,props:Xe,emits:Qe,setup(e){const t=e,a=qe(),{inputId:o,isLabeledByFormItem:n,isChecked:l,isDisabled:s,isFocused:d,checkboxSize:p,hasOwnLabel:g,model:i,actualValue:u,handleChange:c,onClickRoot:v}=Je(t,a),r=U("checkbox"),f=K(()=>[r.b(),r.m(p.value),r.is("disabled",s.value),r.is("bordered",t.border),r.is("checked",l.value)]),k=K(()=>[r.e("input"),r.is("disabled",s.value),r.is("checked",l.value),r.is("indeterminate",t.indeterminate),r.is("focus",d.value)]);return(m,h)=>(C(),F(Ie(!b(g)&&b(n)?"span":"label"),{class:w(b(f)),"aria-controls":m.indeterminate?m.controls||m.ariaControls:null,onClick:b(v)},{default:O(()=>{var x,A;return[Q("span",{class:w(b(k))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?H((C(),L("input",{key:0,id:b(o),"onUpdate:modelValue":h[0]||(h[0]=D=>ce(i)?i.value=D:null),class:w(b(r).e("original")),type:"checkbox",indeterminate:m.indeterminate,name:m.name,tabindex:m.tabindex,disabled:b(s),"true-value":(x=m.trueValue)!=null?x:m.trueLabel,"false-value":(A=m.falseValue)!=null?A:m.falseLabel,onChange:h[1]||(h[1]=(...D)=>b(c)&&b(c)(...D)),onFocus:h[2]||(h[2]=D=>d.value=!0),onBlur:h[3]||(h[3]=D=>d.value=!1),onClick:h[4]||(h[4]=P(()=>{},["stop"]))},null,42,Yt)),[[he,b(i)]]):H((C(),L("input",{key:1,id:b(o),"onUpdate:modelValue":h[5]||(h[5]=D=>ce(i)?i.value=D:null),class:w(b(r).e("original")),type:"checkbox",indeterminate:m.indeterminate,disabled:b(s),value:b(u),name:m.name,tabindex:m.tabindex,onChange:h[6]||(h[6]=(...D)=>b(c)&&b(c)(...D)),onFocus:h[7]||(h[7]=D=>d.value=!0),onBlur:h[8]||(h[8]=D=>d.value=!1),onClick:h[9]||(h[9]=P(()=>{},["stop"]))},null,42,Xt)),[[he,b(i)]]),Q("span",{class:w(b(r).e("inner"))},null,2)],2),b(g)?(C(),L("span",{key:0,class:w(b(r).e("label"))},[le(m.$slots,"default"),m.$slots.default?M("v-if",!0):(C(),L(ve,{key:0},[we(ge(m.label),1)],64))],2)):M("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Zt=Z(Jt,[["__file","checkbox.vue"]]);const en=["name","tabindex","disabled","true-value","false-value"],tn=["name","tabindex","disabled","value"],nn=z({name:"ElCheckboxButton"}),on=z({...nn,props:Xe,emits:Qe,setup(e){const t=e,a=qe(),{isFocused:o,isChecked:n,isDisabled:l,checkboxButtonSize:s,model:d,actualValue:p,handleChange:g}=Je(t,a),i=R(ee,void 0),u=U("checkbox"),c=K(()=>{var r,f,k,m;const h=(f=(r=i==null?void 0:i.fill)==null?void 0:r.value)!=null?f:"";return{backgroundColor:h,borderColor:h,color:(m=(k=i==null?void 0:i.textColor)==null?void 0:k.value)!=null?m:"",boxShadow:h?`-1px 0 0 0 ${h}`:void 0}}),v=K(()=>[u.b("button"),u.bm("button",s.value),u.is("disabled",l.value),u.is("checked",n.value),u.is("focus",o.value)]);return(r,f)=>{var k,m;return C(),L("label",{class:w(b(v))},[r.trueValue||r.falseValue||r.trueLabel||r.falseLabel?H((C(),L("input",{key:0,"onUpdate:modelValue":f[0]||(f[0]=h=>ce(d)?d.value=h:null),class:w(b(u).be("button","original")),type:"checkbox",name:r.name,tabindex:r.tabindex,disabled:b(l),"true-value":(k=r.trueValue)!=null?k:r.trueLabel,"false-value":(m=r.falseValue)!=null?m:r.falseLabel,onChange:f[1]||(f[1]=(...h)=>b(g)&&b(g)(...h)),onFocus:f[2]||(f[2]=h=>o.value=!0),onBlur:f[3]||(f[3]=h=>o.value=!1),onClick:f[4]||(f[4]=P(()=>{},["stop"]))},null,42,en)),[[he,b(d)]]):H((C(),L("input",{key:1,"onUpdate:modelValue":f[5]||(f[5]=h=>ce(d)?d.value=h:null),class:w(b(u).be("button","original")),type:"checkbox",name:r.name,tabindex:r.tabindex,disabled:b(l),value:b(p),onChange:f[6]||(f[6]=(...h)=>b(g)&&b(g)(...h)),onFocus:f[7]||(f[7]=h=>o.value=!0),onBlur:f[8]||(f[8]=h=>o.value=!1),onClick:f[9]||(f[9]=P(()=>{},["stop"]))},null,42,tn)),[[he,b(d)]]),r.$slots.default||r.label?(C(),L("span",{key:2,class:w(b(u).be("button","inner")),style:Ge(b(n)?b(c):void 0)},[le(r.$slots,"default",{},()=>[we(ge(r.label),1)])],6)):M("v-if",!0)],2)}}});var Ze=Z(on,[["__file","checkbox-button.vue"]]);const an=rt({modelValue:{type:it(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Me,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...ze(["ariaLabel"])}),ln={[fe]:e=>ae(e),change:e=>ae(e)},sn=z({name:"ElCheckboxGroup"}),dn=z({...sn,props:an,emits:ln,setup(e,{emit:t}){const a=e,o=U("checkbox"),{formItem:n}=Se(),{inputId:l,isLabeledByFormItem:s}=Ue(a,{formItemContext:n}),d=async g=>{t(fe,g),await ie(),t("change",g)},p=K({get(){return a.modelValue},set(g){d(g)}});return J(ee,{...ut(ct(a),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:p,changeEvent:d}),ne({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>!!a.label)),T(()=>a.modelValue,()=>{a.validateEvent&&(n==null||n.validate("change").catch(g=>Re()))}),(g,i)=>{var u;return C(),F(Ie(g.tag),{id:b(l),class:w(b(o).b("group")),role:"group","aria-label":b(s)?void 0:g.label||g.ariaLabel||"checkbox-group","aria-labelledby":b(s)?(u=b(n))==null?void 0:u.labelId:void 0},{default:O(()=>[le(g.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var et=Z(dn,[["__file","checkbox-group.vue"]]);const rn=ht(Zt,{CheckboxButton:Ze,CheckboxGroup:et});_e(Ze);_e(et);const X="$treeNodeId",Pe=function(e,t){!t||t[X]||Object.defineProperty(t,X,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Be=function(e,t){return e?t[e]:t[X]},xe=(e,t,a)=>{const o=e.value.currentNode;a();const n=e.value.currentNode;o!==n&&t("current-change",n?n.data:null,n)},Ke=e=>{let t=!0,a=!0,o=!0;for(let n=0,l=e.length;n<l;n++){const s=e[n];(s.checked!==!0||s.indeterminate)&&(t=!1,s.disabled||(o=!1)),(s.checked!==!1||s.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:o,half:!t&&!a}},oe=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:a,half:o}=Ke(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):o?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;!n||n.level===0||e.store.checkStrictly||oe(n)},se=function(e,t){const a=e.store.props,o=e.data||{},n=a[t];if(typeof n=="function")return n(o,e);if(typeof n=="string")return o[n];if(typeof n>"u"){const l=o[t];return l===void 0?"":l}};let un=0;class _{constructor(t){this.id=un++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const a in t)Ee(t,a)&&(this[a]=t[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&typeof a.isLeaf<"u"){const l=se(this,"isLeaf");typeof l=="boolean"&&(this.isLeafByUser=l)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Pe(this,this.data),!this.data)return;const o=t.defaultExpandedKeys,n=t.key;n&&o&&o.includes(this.key)&&this.expand(null,t.autoExpandParent),n&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Pe(this,t),this.data=t,this.childNodes=[];let a;this.level===0&&Array.isArray(this.data)?a=this.data:a=se(this,"children")||[];for(let o=0,n=a.length;o<n;o++)this.insertChild({data:a[o]})}get label(){return se(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return se(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return t.childNodes[a+1]}return null}get previousSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return a>0?t.childNodes[a-1]:null}return null}contains(t,a=!0){return(this.childNodes||[]).some(o=>o===t||a&&o.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,a,o){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof _)){if(!o){const n=this.getChildren(!0);n.includes(t.data)||(typeof a>"u"||a<0?n.push(t.data):n.splice(a,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=ft(new _(t)),t instanceof _&&t.initialize()}t.level=this.level+1,typeof a>"u"||a<0?this.childNodes.push(t):this.childNodes.splice(a,0,t),this.updateLeafState()}insertBefore(t,a){let o;a&&(o=this.childNodes.indexOf(a)),this.insertChild(t,o)}insertAfter(t,a){let o;a&&(o=this.childNodes.indexOf(a),o!==-1&&(o+=1)),this.insertChild(t,o)}removeChild(t){const a=this.getChildren()||[],o=a.indexOf(t.data);o>-1&&a.splice(o,1);const n=this.childNodes.indexOf(t);n>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}removeChildByData(t){let a=null;for(let o=0;o<this.childNodes.length;o++)if(this.childNodes[o].data===t){a=this.childNodes[o];break}a&&this.removeChild(a)}expand(t,a){const o=()=>{if(a){let n=this.parent;for(;n.level>0;)n.expanded=!0,n=n.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(n=>{n.canFocus=!0})};this.shouldLoadData()?this.loadData(n=>{Array.isArray(n)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||oe(this),o())}):o()}doCreateChildren(t,a={}){t.forEach(o=>{this.insertChild(Object.assign({data:o},a),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,a,o,n){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:d}=Ke(this.childNodes);!this.isLeaf&&!s&&d&&(this.checked=!1,t=!1);const p=()=>{if(a){const g=this.childNodes;for(let c=0,v=g.length;c<v;c++){const r=g[c];n=n||t!==!1;const f=r.disabled?r.checked:n;r.setChecked(f,a,!0,n)}const{half:i,all:u}=Ke(g);u||(this.checked=u,this.indeterminate=i)}};if(this.shouldLoadData()){this.loadData(()=>{p(),oe(this)},{checked:t!==!1});return}else p()}const l=this.parent;!l||l.level===0||o||oe(l)}getChildren(t=!1){if(this.level===0)return this.data;const a=this.data;if(!a)return null;const o=this.store.props;let n="children";return o&&(n=o.children||"children"),a[n]===void 0&&(a[n]=null),t&&!a[n]&&(a[n]=[]),a[n]}updateChildren(){const t=this.getChildren()||[],a=this.childNodes.map(l=>l.data),o={},n=[];t.forEach((l,s)=>{const d=l[X];!!d&&a.findIndex(g=>g[X]===d)>=0?o[d]={index:s,data:l}:n.push({index:s,data:l})}),this.store.lazy||a.forEach(l=>{o[l[X]]||this.removeChildByData(l)}),n.forEach(({index:l,data:s})=>{this.insertChild({data:s},l)}),this.updateLeafState()}loadData(t,a={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(a).length)){this.loading=!0;const o=l=>{this.childNodes=[],this.doCreateChildren(l,a),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,l)},n=()=>{this.loading=!1};this.store.load(this,o,n)}else t&&t.call(this)}eachNode(t){const a=[this];for(;a.length;){const o=a.shift();a.unshift(...o.childNodes),t(o)}}reInitChecked(){this.store.checkStrictly||oe(this)}}class cn{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const a in t)Ee(t,a)&&(this[a]=t[a]);this.nodesMap={}}initialize(){if(this.root=new _({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,a=>{this.root.doCreateChildren(a),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const a=this.filterNodeMethod,o=this.lazy,n=function(l){const s=l.root?l.root.childNodes:l.childNodes;if(s.forEach(d=>{d.visible=a.call(d,t,d.data,d),n(d)}),!l.visible&&s.length){let d=!0;d=!s.some(p=>p.visible),l.root?l.root.visible=d===!1:l.visible=d===!1}t&&l.visible&&!l.isLeaf&&(!o||l.loaded)&&l.expand()};n(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof _)return t;const a=je(t)?Be(this.key,t):t;return this.nodesMap[a]||null}insertBefore(t,a){const o=this.getNode(a);o.parent.insertBefore({data:t},o)}insertAfter(t,a){const o=this.getNode(a);o.parent.insertAfter({data:t},o)}remove(t){const a=this.getNode(t);a&&a.parent&&(a===this.currentNode&&(this.currentNode=null),a.parent.removeChild(a))}append(t,a){const o=ue(a)?this.root:this.getNode(a);o&&o.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],a=this.nodesMap;t.forEach(o=>{const n=a[o];n&&n.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const a=this.key;!t||!t.data||(a?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(o=>{this.deregisterNode(o)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,a=!1){const o=[],n=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(d=>{(d.checked||a&&d.indeterminate)&&(!t||t&&d.isLeaf)&&o.push(d.data),n(d)})};return n(this),o}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(a=>(a||{})[this.key])}getHalfCheckedNodes(){const t=[],a=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(l=>{l.indeterminate&&t.push(l.data),a(l)})};return a(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],a=this.nodesMap;for(const o in a)Ee(a,o)&&t.push(a[o]);return t}updateChildren(t,a){const o=this.nodesMap[t];if(!o)return;const n=o.childNodes;for(let l=n.length-1;l>=0;l--){const s=n[l];this.remove(s.data)}for(let l=0,s=a.length;l<s;l++){const d=a[l];this.append(d,o.data)}}_setCheckedKeys(t,a=!1,o){const n=this._getAllNodes().sort((p,g)=>p.level-g.level),l=Object.create(null),s=Object.keys(o);n.forEach(p=>p.setChecked(!1,!1));const d=p=>{p.childNodes.forEach(g=>{var i;l[g.data[t]]=!0,(i=g.childNodes)!=null&&i.length&&d(g)})};for(let p=0,g=n.length;p<g;p++){const i=n[p],u=i.data[t].toString();if(!s.includes(u)){i.checked&&!l[u]&&i.setChecked(!1,!1);continue}if(i.childNodes.length&&d(i),i.isLeaf||this.checkStrictly){i.setChecked(!0,!1);continue}if(i.setChecked(!0,!0),a){i.setChecked(!1,!1);const v=function(r){r.childNodes.forEach(k=>{k.isLeaf||k.setChecked(!1,!1),v(k)})};v(i)}}}setCheckedNodes(t,a=!1){const o=this.key,n={};t.forEach(l=>{n[(l||{})[o]]=!0}),this._setCheckedKeys(o,a,n)}setCheckedKeys(t,a=!1){this.defaultCheckedKeys=t;const o=this.key,n={};t.forEach(l=>{n[l]=!0}),this._setCheckedKeys(o,a,n)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(a=>{const o=this.getNode(a);o&&o.expand(null,this.autoExpandParent)})}setChecked(t,a,o){const n=this.getNode(t);n&&n.setChecked(!!a,o)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const a=this.currentNode;a&&(a.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,a=!0){const o=t[this.key],n=this.nodesMap[o];this.setCurrentNode(n),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,a=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const o=this.getNode(t);o&&(this.setCurrentNode(o),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const hn=z({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=U("tree"),a=R("NodeInstance"),o=R("RootTree");return()=>{const n=e.node,{data:l,store:s}=n;return e.renderContent?e.renderContent(Ve,{_self:a,node:n,data:l,store:s}):le(o.ctx.slots,"default",{node:n,data:l},()=>[Ve("span",{class:t.be("node","label")},[n.label])])}}});var fn=Z(hn,[["__file","tree-node-content.vue"]]);function tt(e){const t=R("TreeNodeMap",null),a={treeNodeExpand:o=>{e.node!==o&&e.node.collapse()},children:[]};return t&&t.children.push(a),J("TreeNodeMap",a),{broadcastExpanded:o=>{if(e.accordion)for(const n of a.children)n.treeNodeExpand(o)}}}const nt=Symbol("dragEvents");function pn({props:e,ctx:t,el$:a,dropIndicator$:o,store:n}){const l=U("tree"),s=$({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return J(nt,{treeNodeDragStart:({event:i,treeNode:u})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(u.node))return i.preventDefault(),!1;i.dataTransfer.effectAllowed="move";try{i.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=u,t.emit("node-drag-start",u.node,i)},treeNodeDragOver:({event:i,treeNode:u})=>{const c=u,v=s.value.dropNode;v&&v.node.id!==c.node.id&&be(v.$el,l.is("drop-inner"));const r=s.value.draggingNode;if(!r||!c)return;let f=!0,k=!0,m=!0,h=!0;typeof e.allowDrop=="function"&&(f=e.allowDrop(r.node,c.node,"prev"),h=k=e.allowDrop(r.node,c.node,"inner"),m=e.allowDrop(r.node,c.node,"next")),i.dataTransfer.dropEffect=k||f||m?"move":"none",(f||k||m)&&(v==null?void 0:v.node.id)!==c.node.id&&(v&&t.emit("node-drag-leave",r.node,v.node,i),t.emit("node-drag-enter",r.node,c.node,i)),f||k||m?s.value.dropNode=c:s.value.dropNode=null,c.node.nextSibling===r.node&&(m=!1),c.node.previousSibling===r.node&&(f=!1),c.node.contains(r.node,!1)&&(k=!1),(r.node===c.node||r.node.contains(c.node))&&(f=!1,k=!1,m=!1);const x=c.$el.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),A=a.value.getBoundingClientRect();let D;const W=f?k?.25:m?.45:1:-1,S=m?k?.75:f?.55:0:1;let j=-9999;const N=i.clientY-x.top;N<x.height*W?D="before":N>x.height*S?D="after":k?D="inner":D="none";const I=c.$el.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),B=o.value;D==="before"?j=I.top-A.top:D==="after"&&(j=I.bottom-A.top),B.style.top=`${j}px`,B.style.left=`${I.right-A.left}px`,D==="inner"?pt(c.$el,l.is("drop-inner")):be(c.$el,l.is("drop-inner")),s.value.showDropIndicator=D==="before"||D==="after",s.value.allowDrop=s.value.showDropIndicator||h,s.value.dropType=D,t.emit("node-drag-over",r.node,c.node,i)},treeNodeDragEnd:i=>{const{draggingNode:u,dropType:c,dropNode:v}=s.value;if(i.preventDefault(),i.dataTransfer.dropEffect="move",u&&v){const r={data:u.node.data};c!=="none"&&u.node.remove(),c==="before"?v.node.parent.insertBefore(r,v.node):c==="after"?v.node.parent.insertAfter(r,v.node):c==="inner"&&v.node.insertChild(r),c!=="none"&&(n.value.registerNode(r),n.value.key&&u.node.eachNode(f=>{var k;(k=n.value.nodesMap[f.data[n.value.key]])==null||k.setChecked(f.checked,!n.value.checkStrictly)})),be(v.$el,l.is("drop-inner")),t.emit("node-drag-end",u.node,v.node,c,i),c!=="none"&&t.emit("node-drop",u.node,v.node,c,i)}u&&!v&&t.emit("node-drag-end",u.node,null,c,i),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const vn=z({name:"ElTreeNode",components:{ElCollapseTransition:Ot,ElCheckbox:rn,NodeContent:fn,ElIcon:vt,Loading:gt},props:{node:{type:_,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=U("tree"),{broadcastExpanded:o}=tt(e),n=R("RootTree"),l=$(!1),s=$(!1),d=$(null),p=$(null),g=$(null),i=R(nt),u=pe();J("NodeInstance",u),e.node.expanded&&(l.value=!0,s.value=!0);const c=n.props.props.children||"children";T(()=>{const N=e.node.data[c];return N&&[...N]},()=>{e.node.updateChildren()}),T(()=>e.node.indeterminate,N=>{f(e.node.checked,N)}),T(()=>e.node.checked,N=>{f(N,e.node.indeterminate)}),T(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),T(()=>e.node.expanded,N=>{ie(()=>l.value=N),N&&(s.value=!0)});const v=N=>Be(n.props.nodeKey,N.data),r=N=>{const I=e.props.class;if(!I)return{};let B;if(bt(I)){const{data:me}=N;B=I(me,N)}else B=I;return ke(B)?{[B]:!0}:B},f=(N,I)=>{(d.value!==N||p.value!==I)&&n.ctx.emit("check-change",e.node.data,N,I),d.value=N,p.value=I},k=N=>{xe(n.store,n.ctx.emit,()=>n.store.value.setCurrentNode(e.node)),n.currentNode.value=e.node,n.props.expandOnClickNode&&h(),n.props.checkOnClickNode&&!e.node.disabled&&x(null,{target:{checked:!e.node.checked}}),n.ctx.emit("node-click",e.node.data,e.node,u,N)},m=N=>{n.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),n.ctx.emit("node-contextmenu",N,e.node.data,e.node,u)},h=()=>{e.node.isLeaf||(l.value?(n.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,u)))},x=(N,I)=>{e.node.setChecked(I.target.checked,!n.props.checkStrictly),ie(()=>{const B=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:B.getCheckedNodes(),checkedKeys:B.getCheckedKeys(),halfCheckedNodes:B.getHalfCheckedNodes(),halfCheckedKeys:B.getHalfCheckedKeys()})})};return{ns:a,node$:g,tree:n,expanded:l,childNodeRendered:s,oldChecked:d,oldIndeterminate:p,getNodeKey:v,getNodeClass:r,handleSelectChange:f,handleClick:k,handleContextMenu:m,handleExpandIconClick:h,handleCheckChange:x,handleChildNodeExpand:(N,I,B)=>{o(I),n.ctx.emit("node-expand",N,I,B)},handleDragStart:N=>{n.props.draggable&&i.treeNodeDragStart({event:N,treeNode:e})},handleDragOver:N=>{N.preventDefault(),n.props.draggable&&i.treeNodeDragOver({event:N,treeNode:{$el:g.value,node:e.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{n.props.draggable&&i.treeNodeDragEnd(N)},CaretRight:mt}}}),gn=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],mn=["aria-expanded"];function bn(e,t,a,o,n,l){const s=G("el-icon"),d=G("el-checkbox"),p=G("loading"),g=G("node-content"),i=G("el-tree-node"),u=G("el-collapse-transition");return H((C(),L("div",{ref:"node$",class:w([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=P((...c)=>e.handleClick&&e.handleClick(...c),["stop"])),onContextmenu:t[2]||(t[2]=(...c)=>e.handleContextMenu&&e.handleContextMenu(...c)),onDragstart:t[3]||(t[3]=P((...c)=>e.handleDragStart&&e.handleDragStart(...c),["stop"])),onDragover:t[4]||(t[4]=P((...c)=>e.handleDragOver&&e.handleDragOver(...c),["stop"])),onDragend:t[5]||(t[5]=P((...c)=>e.handleDragEnd&&e.handleDragEnd(...c),["stop"])),onDrop:t[6]||(t[6]=P((...c)=>e.handleDrop&&e.handleDrop(...c),["stop"]))},[Q("div",{class:w(e.ns.be("node","content")),style:Ge({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(C(),F(s,{key:0,class:w([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:P(e.handleExpandIconClick,["stop"])},{default:O(()=>[(C(),F(Ie(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):M("v-if",!0),e.showCheckbox?(C(),F(d,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=P(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):M("v-if",!0),e.node.loading?(C(),F(s,{key:2,class:w([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:O(()=>[V(p)]),_:1},8,["class"])):M("v-if",!0),V(g,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),V(u,null,{default:O(()=>[!e.renderAfterExpand||e.childNodeRendered?H((C(),L("div",{key:0,class:w(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(C(!0),L(ve,null,Le(e.node.childNodes,c=>(C(),F(i,{key:e.getNodeKey(c),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:c,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,mn)),[[De,e.expanded]]):M("v-if",!0)]),_:1})],42,gn)),[[De,e.node.visible]])}var yn=Z(vn,[["render",bn],["__file","tree-node.vue"]]);function kn({el$:e},t){const a=U("tree"),o=Oe([]),n=Oe([]);yt(()=>{s()}),kt(()=>{o.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),T(n,d=>{d.forEach(p=>{p.setAttribute("tabindex","-1")})}),Nt(e,"keydown",d=>{const p=d.target;if(!p.className.includes(a.b("node")))return;const g=d.code;o.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const i=o.value.indexOf(p);let u;if([q.up,q.down].includes(g)){if(d.preventDefault(),g===q.up){u=i===-1?0:i!==0?i-1:o.value.length-1;const v=u;for(;!t.value.getNode(o.value[u].dataset.key).canFocus;){if(u--,u===v){u=-1;break}u<0&&(u=o.value.length-1)}}else{u=i===-1?0:i<o.value.length-1?i+1:0;const v=u;for(;!t.value.getNode(o.value[u].dataset.key).canFocus;){if(u++,u===v){u=-1;break}u>=o.value.length&&(u=0)}}u!==-1&&o.value[u].focus()}[q.left,q.right].includes(g)&&(d.preventDefault(),p.click());const c=p.querySelector('[type="checkbox"]');[q.enter,q.space].includes(g)&&c&&(d.preventDefault(),c.click())});const s=()=>{var d;o.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const p=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);if(p.length){p[0].setAttribute("tabindex","0");return}(d=o.value[0])==null||d.setAttribute("tabindex","0")}}const Nn=z({name:"ElTree",components:{ElTreeNode:yn},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ct}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=Et(),o=U("tree"),n=$(new cn({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));n.value.initialize();const l=$(n.value.root),s=$(null),d=$(null),p=$(null),{broadcastExpanded:g}=tt(e),{dragState:i}=pn({props:e,ctx:t,el$:d,dropIndicator$:p,store:n});kn({el$:d},n);const u=K(()=>{const{childNodes:y}=l.value;return!y||y.length===0||y.every(({visible:E})=>!E)});T(()=>e.currentNodeKey,y=>{n.value.setCurrentNodeKey(y)}),T(()=>e.defaultCheckedKeys,y=>{n.value.setDefaultCheckedKey(y)}),T(()=>e.defaultExpandedKeys,y=>{n.value.setDefaultExpandedKeys(y)}),T(()=>e.data,y=>{n.value.setData(y)},{deep:!0}),T(()=>e.checkStrictly,y=>{n.value.checkStrictly=y});const c=y=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");n.value.filter(y)},v=y=>Be(e.nodeKey,y.data),r=y=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const E=n.value.getNode(y);if(!E)return[];const Y=[E.data];let te=E.parent;for(;te&&te!==l.value;)Y.push(te.data),te=te.parent;return Y.reverse()},f=(y,E)=>n.value.getCheckedNodes(y,E),k=y=>n.value.getCheckedKeys(y),m=()=>{const y=n.value.getCurrentNode();return y?y.data:null},h=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const y=m();return y?y[e.nodeKey]:null},x=(y,E)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");n.value.setCheckedNodes(y,E)},A=(y,E)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");n.value.setCheckedKeys(y,E)},D=(y,E,Y)=>{n.value.setChecked(y,E,Y)},W=()=>n.value.getHalfCheckedNodes(),S=()=>n.value.getHalfCheckedKeys(),j=(y,E=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");xe(n,t.emit,()=>n.value.setUserCurrentNode(y,E))},N=(y,E=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");xe(n,t.emit,()=>n.value.setCurrentNodeKey(y,E))},I=y=>n.value.getNode(y),B=y=>{n.value.remove(y)},me=(y,E)=>{n.value.append(y,E)},ot=(y,E)=>{n.value.insertBefore(y,E)},at=(y,E)=>{n.value.insertAfter(y,E)},lt=(y,E,Y)=>{g(E),t.emit("node-expand",y,E,Y)},st=(y,E)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");n.value.updateChildren(y,E)};return J("RootTree",{ctx:t,props:e,store:n,root:l,currentNode:s,instance:pe()}),J(Dt,void 0),{ns:o,store:n,root:l,currentNode:s,dragState:i,el$:d,dropIndicator$:p,isEmpty:u,filter:c,getNodeKey:v,getNodePath:r,getCheckedNodes:f,getCheckedKeys:k,getCurrentNode:m,getCurrentKey:h,setCheckedNodes:x,setCheckedKeys:A,setChecked:D,getHalfCheckedNodes:W,getHalfCheckedKeys:S,setCurrentNode:j,setCurrentKey:N,t:a,getNode:I,remove:B,append:me,insertBefore:ot,insertAfter:at,handleNodeExpand:lt,updateKeyChildren:st}}});function Cn(e,t,a,o,n,l){const s=G("el-tree-node");return C(),L("div",{ref:"el$",class:w([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(C(!0),L(ve,null,Le(e.root.childNodes,d=>(C(),F(s,{key:e.getNodeKey(d),node:d,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(C(),L("div",{key:0,class:w(e.ns.e("empty-block"))},[le(e.$slots,"empty",{},()=>{var d;return[Q("span",{class:w(e.ns.e("empty-text"))},ge((d=e.emptyText)!=null?d:e.t("el.tree.emptyText")),3)]})],2)):M("v-if",!0),H(Q("div",{ref:"dropIndicator$",class:w(e.ns.e("drop-indicator"))},null,2),[[De,e.dragState.showDropIndicator]])],2)}var re=Z(Nn,[["render",Cn],["__file","tree.vue"]]);re.install=e=>{e.component(re.name,re)};const En=re,Dn=En,xn={class:"my-divider-title"},Kn=z({__name:"my-divider-title",props:{label:{},suffixIcon:{}},emits:["click-suffix-icon"],setup(e,{emit:t}){const a=t;return(o,n)=>{const l=xt,s=He;return C(),L("div",xn,[V(l,{"content-position":"left","border-style":"dashed"},{default:O(()=>[we(ge(o.label),1)]),_:1}),o.suffixIcon?(C(),F(s,{key:0,type:"primary",size:"small",icon:o.suffixIcon,plain:"",circle:"",onClick:n[0]||(n[0]=d=>a("click-suffix-icon"))},null,8,["icon"])):M("",!0)])}}}),Sn=We(Kn,[["__scopeId","data-v-9feaf8be"]]),wn=["GET","POST","PATCH","PUT","DELETE"],In={class:"api-editor"},Ln={key:0,class:"params-config"},Bn={class:"custom-tree-node"},$n=z({__name:"api-config-editor",props:{options:{},apiLabel:{default:"接口"},paramsLabel:{default:"参数"},formItemProp:{default:()=>["options"]},formItemRules:{},showMessage:{type:Boolean},showParams:{type:Boolean,default:!0},map:{default:()=>({})}},setup(e,{expose:t}){const a=e,{api:o="api",apiMethod:n="apiMethod",apiParams:l="apiParams"}=a.map,s=Kt(a,"options"),d=$([]),p=$();T(()=>s.value[l],v=>{u(v??{},d)},{once:!0}),T(d,qt(v=>{c(v,s)},800),{deep:!0});function g(v){v.push({id:ye(5),key:"id",value:"123"})}function i(v,r){const f=r.findIndex(k=>k.id===v.id);if(f>-1)r.splice(f,1);else{const k=Pt(v.id,r),m=Rt(jt(k),r),h=m.children.findIndex(x=>x.id===v.id);m.children.splice(h,1)}}function u(v,r){const f=(k,m)=>{for(const h in k)if(Object.prototype.hasOwnProperty.call(k,h))if(Fe(k[h])){const x={id:ye(5),key:h,value:k[h],children:[]};m.push(x),f(k[h],x.children)}else m.push({id:ye(5),key:h,value:k[h]})};f(v,r.value=[])}function c(v,r){const f=(k,m)=>{k.forEach(h=>{var x;(x=h.children)!=null&&x.length?(m[h.key]={},f(h.children??[],m[h.key])):m[h.key]=h.value})};f(v,r.value[l]={})}return t({formItemRef:p}),(v,r)=>{const f=Bt,k=Vt,m=At,h=It,x=Lt,A=Sn,D=He,W=Dn;return C(),L("div",In,[V(h,{ref_key:"formItemRef",ref:p,prop:[...v.formItemProp,b(o)],rules:v.formItemRules,"show-message":v.showMessage},{label:O(()=>[V(f,{label:v.apiLabel},null,8,["label"])]),default:O(()=>[V(x,{modelValue:b(s)[b(o)],"onUpdate:modelValue":r[1]||(r[1]=S=>b(s)[b(o)]=S),clearable:"",placeholder:"请输入"},{prepend:O(()=>[V(h,{prop:[...v.formItemProp,b(n)],rules:v.formItemRules,"show-message":v.showMessage},{default:O(()=>[V(m,{modelValue:b(s)[b(n)],"onUpdate:modelValue":r[0]||(r[0]=S=>b(s)[b(n)]=S),placeholder:"选择",style:{width:"100px"}},{default:O(()=>[(C(!0),L(ve,null,Le(b(wn),S=>(C(),F(k,{key:S,label:S,value:S},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop","rules","show-message"])]),_:1},8,["modelValue"])]),_:1},8,["prop","rules","show-message"]),v.showParams?(C(),L("div",Ln,[V(A,{label:v.paramsLabel,"suffix-icon":b(St),onClickSuffixIcon:r[2]||(r[2]=S=>g(b(d)))},null,8,["label","suffix-icon"]),V(W,{data:b(d),"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"empty-text":"暂无配置"},{default:O(({data:S})=>{var j;return[Q("span",Bn,[V(x,{modelValue:S.key,"onUpdate:modelValue":N=>S.key=N,placeholder:"字段名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),(j=S.children)!=null&&j.length?M("",!0):(C(),F(x,{key:0,modelValue:S.value,"onUpdate:modelValue":N=>S.value=N,placeholder:"字段值",clearable:""},null,8,["modelValue","onUpdate:modelValue"])),V(D,{type:"danger",size:"small",icon:b(wt),plain:"",circle:"",onClick:N=>i(S,b(d))},null,8,["icon","onClick"])])]}),_:1},8,["data"])])):M("",!0)])}}}),Fn=We($n,[["__scopeId","data-v-83755341"]]);export{Fn as A,Sn as _,jt as h};
