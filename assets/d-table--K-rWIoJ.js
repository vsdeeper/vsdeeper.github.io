import{d as g,z as w,o as f,c as V,w as e,e as o,u as a,a as z,ac as A,ad as O,A as D,y,E as S,r as ao,ak as no,b as po,t as ro,ae as uo,ah as N,$ as q,a9 as $,ai as so,aj as G,ag as mo,_ as _o}from"./index-DyeLNBOl.js";import{R as W,E as j,a as X}from"./constants-CpGNljIc.js";import{_ as E,a as J,b as io}from"./table-column-items-editor.vue_vue_type_style_index_0_scoped_64707d73_lang-BfRi0TZz.js";import{E as Q,a as Z,b as k,d as T,h as fo,A as F,l as co,e as bo,f as ho,_ as Vo}from"./api-config-editor-B9QtGIJs.js";const yo=[{label:"固定",value:"fixed"},{label:"自动",value:"auto"}],Io=g({__name:"table-layout-editor",props:{options:{},label:{default:"表格的布局方式"},formItemProp:{default:()=>["options","tableLayout"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=Q,c=Z,r=D;return f(),V(r,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(c,{modelValue:a(t).tableLayout,"onUpdate:modelValue":n[0]||(n[0]=b=>a(t).tableLayout=b),placeholder:"请选择",clearable:""},{default:e(()=>[(f(!0),z(A,null,O(a(yo),b=>(f(),V(m,{key:b.value,label:`${b.label} - ${b.value}`,value:b.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),go=g({__name:"show-checkbox-editor",props:{options:{},label:{default:"显示复选框"},formItemProp:{default:()=>["options","showCheckbox"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=k,c=T,r=D;return f(),V(r,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(c,{modelValue:a(t).showCheckbox,"onUpdate:modelValue":n[0]||(n[0]=b=>a(t).showCheckbox=b)},{default:e(()=>[o(m,{label:!0},{default:e(()=>[y("是")]),_:1}),o(m,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),vo=g({__name:"show-pagination-editor",props:{options:{},label:{default:"显示分页"},formItemProp:{default:()=>["options","showPagination"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=k,c=T,r=D;return f(),V(r,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(c,{modelValue:a(t).showPagination,"onUpdate:modelValue":n[0]||(n[0]=b=>a(t).showPagination=b)},{default:e(()=>[o(m,{label:!0},{default:e(()=>[y("是")]),_:1}),o(m,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Co=g({__name:"highlight-current-row-editor",props:{options:{},label:{default:"高亮当前行"},formItemProp:{default:()=>["options","highlightCurrentRow"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=k,c=T,r=D;return f(),V(r,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(c,{modelValue:a(t).highlightCurrentRow,"onUpdate:modelValue":n[0]||(n[0]=b=>a(t).highlightCurrentRow=b)},{default:e(()=>[o(m,{label:!0},{default:e(()=>[y("是")]),_:1}),o(m,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Po=g({__name:"auto-calc-max-height-editor",props:{options:{},label:{default:"自动计算最大高度"},formItemProp:{default:()=>["options","autoCalcMaxHeight"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=k,c=T,r=D;return f(),V(r,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(c,{modelValue:a(t).autoCalcMaxHeight,"onUpdate:modelValue":n[0]||(n[0]=b=>a(t).autoCalcMaxHeight=b)},{default:e(()=>[o(m,{label:!0},{default:e(()=>[y("是")]),_:1}),o(m,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),wo=g({__name:"flexible-editor",props:{options:{},label:{default:"主轴弹性"},formItemProp:{default:()=>["options","flexible"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=k,c=T,r=D;return f(),V(r,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(c,{modelValue:a(t).flexible,"onUpdate:modelValue":n[0]||(n[0]=b=>a(t).flexible=b)},{default:e(()=>[o(m,{label:!0},{default:e(()=>[y("是")]),_:1}),o(m,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Do=g({__name:"virtualized-editor",props:{options:{},label:{default:"虚拟化表格"},formItemProp:{default:()=>["options","virtualized"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=k,c=T,r=D;return f(),V(r,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(c,{modelValue:a(t).virtualized,"onUpdate:modelValue":n[0]||(n[0]=b=>a(t).virtualized=b)},{default:e(()=>[o(m,{label:!0},{default:e(()=>[y("是")]),_:1}),o(m,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Eo=g({__name:"row-key-editor",props:{options:{},label:{default:"行数据Key"},formItemProp:{default:()=>["options","rowKey"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=S,c=D;return f(),V(c,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(m,{modelValue:a(t).rowKey,"onUpdate:modelValue":n[0]||(n[0]=r=>a(t).rowKey=r),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),Uo=g({__name:"lazy-editor",props:{options:{},label:{default:"懒加载子节点数据"},formItemProp:{default:()=>["options","lazy"]},formItemRules:{}},emits:["change"],setup(h){const t=w(h,"options");function l(n,d){n&&(d.loadApiMethod="GET")}return(n,d)=>{const m=E,c=k,r=T,b=D;return f(),V(b,{prop:n.formItemProp},{label:e(()=>[o(m,{label:n.label},null,8,["label"])]),default:e(()=>[o(r,{modelValue:a(t).lazy,"onUpdate:modelValue":d[0]||(d[0]=R=>a(t).lazy=R),onChange:d[1]||(d[1]=R=>l(R,a(t)))},{default:e(()=>[o(c,{label:!0},{default:e(()=>[y("是")]),_:1}),o(c,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Ro=g({__name:"item-has-children-editor",props:{options:{},label:{default:"hasChildren别名"},formItemProp:{default:()=>["options","itemHasChildren"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=S,c=D;return f(),V(c,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(m,{modelValue:a(t).itemHasChildren,"onUpdate:modelValue":n[0]||(n[0]=r=>a(t).itemHasChildren=r),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),ko=g({__name:"item-children-editor",props:{options:{},label:{default:"children别名"},formItemProp:{default:()=>["options","itemChildren"]},formItemRules:{}},setup(h){const t=w(h,"options");return(l,n)=>{const d=E,m=S,c=D;return f(),V(c,{prop:l.formItemProp},{label:e(()=>[o(d,{label:l.label},null,8,["label"])]),default:e(()=>[o(m,{modelValue:a(t).itemChildren,"onUpdate:modelValue":n[0]||(n[0]=r=>a(t).itemChildren=r),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),To=[{label:"左侧",value:"left"},{label:"右侧",value:"right"}],$o=[{label:"静态数据回显",value:"displayByStaticData"},{label:"动态数据回显",value:"displayByDynamicData"},{label:"格式化日期",value:"dateFormat"}],Mo={style:{display:"flex","justify-content":"flex-start",flex:"1"}},zo=g({__name:"table-column-items-editor",props:{options:{},formItemProp:{},label:{},isSubLevel:{type:Boolean}},setup(h){var R;const t=w(h,"options"),l=ao((R=fo(t.value.tableColumnItems))==null?void 0:R.id);function n(){var p,i;(p=t.value.tableColumnItems)==null||p.push({id:G(5)}),l.value=(i=co(t.value.tableColumnItems))==null?void 0:i.id}function d(p){p.tableColumnItems||(p.tableColumnItems=[]),p.tableColumnItems.push({id:G(5)})}function m(p,i){i.splice(p,1),i.length&&(i[p]?l.value=i[p].id:l.value=i[p-1].id)}function c(p,i){i.api=void 0,i.apiMethod=void 0,i.apiParams=void 0,i.staticDataKey=void 0,i.format=void 0,p==="displayByDynamicData"?i.apiMethod="GET":p==="dateFormat"&&(i.format="YYYY-MM-DD HH:mm:ss")}function r(p,i){return Array.isArray(i)?[...i,"tableColumnItems",p+""]:["options","tableColumnItems",p+""]}function b(p,i){return i?`${i} / ${p??""}`:`${p??""}`}return(p,i)=>{var Y;const M=mo,v=E,U=S,C=D,P=J,B=Q,K=Z,H=k,L=T,x=j,oo=X,eo=no("table-column-items-editor",!0),lo=bo,to=ho;return f(),z(A,null,[(Y=a(t).tableColumnItems)!=null&&Y.length?(f(),V(to,{key:0,modelValue:a(l),"onUpdate:modelValue":i[0]||(i[0]=u=>so(l)?l.value=u:null),accordion:""},{default:e(()=>[(f(!0),z(A,null,O(a(t).tableColumnItems,(u,I)=>(f(),V(lo,{key:u.id,name:u.id},{title:e(()=>[po("div",Mo,"表列 - "+ro(b(u.label,p.label)),1),o(M,{type:"danger",icon:a(uo),circle:"",plain:"",size:"small",onClick:N(s=>m(I,a(t).tableColumnItems),["stop"])},null,8,["icon","onClick"]),o(M,{type:"primary",icon:a(q),circle:"",plain:"",size:"small",style:{"margin-right":"10px"},onClick:N(s=>d(u),["stop"])},null,8,["icon","onClick"])]),default:e(()=>[o(oo,{gutter:a(W)},{default:e(()=>[o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"prop"],rules:[{required:!0,message:"必填项"}]},{label:e(()=>[o(v,{label:"字段名称"})]),default:e(()=>[o(U,{modelValue:u.prop,"onUpdate:modelValue":s=>u.prop=s,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"label"],rules:[{required:!0,message:"必填项"}]},{label:e(()=>[o(v,{label:"列名称"})]),default:e(()=>[o(U,{modelValue:u.label,"onUpdate:modelValue":s=>u.label=s,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"width"]},{label:e(()=>[o(v,{label:"列宽度"})]),default:e(()=>[o(U,{modelValue:u.width,"onUpdate:modelValue":s=>u.width=s,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"minWidth"]},{label:e(()=>[o(v,{label:"列最小宽度"})]),default:e(()=>[o(U,{modelValue:u.minWidth,"onUpdate:modelValue":s=>u.minWidth=s,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"fixed"]},{label:e(()=>[o(v,{label:"固定列"})]),default:e(()=>[o(K,{modelValue:u.fixed,"onUpdate:modelValue":s=>u.fixed=s,placeholder:"请选择",clearable:""},{default:e(()=>[(f(!0),z(A,null,O(a(To),s=>(f(),V(B,{key:s.value,label:`${s.label} - ${s.value}`,value:s.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"showOverflowTooltip"]},{label:e(()=>[o(v,{label:"内容超长tooltip"})]),default:e(()=>[o(L,{modelValue:u.showOverflowTooltip,"onUpdate:modelValue":s=>u.showOverflowTooltip=s},{default:e(()=>[o(H,{label:!0},{default:e(()=>[y("是")]),_:1}),o(H,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"sortable"]},{label:e(()=>[o(v,{label:"开启排序"})]),default:e(()=>[o(L,{modelValue:u.sortable,"onUpdate:modelValue":s=>u.sortable=s},{default:e(()=>[o(H,{label:!0},{default:e(()=>[y("是")]),_:1}),o(H,{label:!1},{default:e(()=>[y("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),o(P,null,{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"formatterType"]},{label:e(()=>[o(v,{label:"格式化类型"})]),default:e(()=>[o(K,{modelValue:u.formatterType,"onUpdate:modelValue":s=>u.formatterType=s,placeholder:"请选择",clearable:"",onChange:s=>c(s,u)},{default:e(()=>[(f(!0),z(A,null,O(a($o),s=>(f(),V(B,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["prop"])]),_:2},1024),u.formatterType==="displayByStaticData"?(f(),V(P,{key:0},{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"staticDataKey"]},{label:e(()=>[o(v,{label:"静态数据Key"})]),default:e(()=>[o(U,{modelValue:u.staticDataKey,"onUpdate:modelValue":s=>u.staticDataKey=s,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):$("",!0),u.formatterType==="dateFormat"?(f(),V(P,{key:1},{default:e(()=>[o(C,{prop:[...r(I,p.formItemProp),"format"]},{label:e(()=>[o(v,{label:"格式化日期"})]),default:e(()=>[o(U,{modelValue:u.format,"onUpdate:modelValue":s=>u.format=s,placeholder:"YYYY-MM-DD HH:mm:ss",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):$("",!0),o(x,{span:24},{default:e(()=>[u.formatterType==="displayByDynamicData"?(f(),V(a(F),{key:0,options:u,"form-item-prop":[...r(I,p.formItemProp)],"form-item-rules":[{required:!0}]},null,8,["options","form-item-prop"])):$("",!0)]),_:2},1024)]),_:2},1032,["gutter"]),o(eo,{options:u,"form-item-prop":r(I,p.formItemProp),label:b(u.label,p.label),"is-sub-level":""},null,8,["options","form-item-prop","label"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):$("",!0),p.isSubLevel?$("",!0):(f(),V(M,{key:1,type:"primary",plain:"",icon:a(q),onClick:n,style:{width:"100%","margin-top":"10px"}},{default:e(()=>[y(" 新增表列 ")]),_:1},8,["icon"]))],64)}}}),Ao=_o(zo,[["__scopeId","data-v-64707d73"]]),Fo=g({__name:"d-table",props:{formData:{}},setup(h){return(_,t)=>{const l=J,n=Io,d=Ro,m=ko,c=Eo,r=Uo,b=Do,R=Po,p=go,i=Co,M=vo,v=wo,U=j,C=Vo,P=Ao,B=X;return f(),V(B,{gutter:a(W)},{default:e(()=>[o(l,null,{default:e(()=>[o(a(io),{"form-data":_.formData},null,8,["form-data"])]),_:1}),o(l,null,{default:e(()=>[o(n,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(d,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(m,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(c,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(r,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(b,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(R,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(p,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(i,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(M,{options:_.formData.options},null,8,["options"])]),_:1}),o(l,null,{default:e(()=>[o(v,{options:_.formData.options},null,8,["options"])]),_:1}),o(U,{span:24},{default:e(()=>[o(a(F),{options:_.formData.options,"form-item-rules":[{required:!0}],"api-label":"列表接口","params-label":"接口参数"},null,8,["options"])]),_:1}),_.formData.options.lazy?(f(),V(U,{key:0,span:24},{default:e(()=>[o(a(F),{options:_.formData.options,"form-item-rules":[{required:!0}],map:{api:"loadApi",apiMethod:"loadApiMethod",apiParams:"loadApiParams"},"api-label":"懒加载子节点接口","params-label":"接口参数"},null,8,["options"])]),_:1})):$("",!0),o(U,{span:24},{default:e(()=>[o(C,{label:"表列设置"}),o(P,{options:_.formData.options},null,8,["options"])]),_:1})]),_:1},8,["gutter"])}}});export{Fo as default};
