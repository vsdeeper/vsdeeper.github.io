import{ak as Ae,Q as Ke,al as Be,ad as q,am as He,an as Fe,ao as pe,ap as ae,aa as te,d as S,aq as We,l as Ge,r as de,af as Ye,ar as qe,p as J,ab as ue,as as je,at as Xe,X as Je,a2 as Qe,a3 as Ze,au as xe,o as b,a as k,ah as ke,u as a,j as be,av as se,q as $e,e,w as l,c as I,aw as el,G as ge,a4 as ve,J as R,ax as ll,K as ie,H as ee,E as le,s as ol,W as tl,ac as al,ay as Oe,v as nl,az as Re,y as ye,g as rl,b as x,F as Q,A as Z,z as C,t as he,aA as ul,I as Ie,L as Ce,aB as sl,C as pl,D as il,_ as Pe,aC as Ve,B as L,aD as H,aE as dl}from"./index-CEqAfCFG.js";import{b as De,_ as we,E as Me,a as ze}from"./ApiConfig-Du_CtaDs.js";import{b as me,d as _e,R as Ee,_ as O,E as Ue,a as Ne}from"./constants-D7nKy17g.js";import{_ as Te}from"./responsive-col.vue_vue_type_script_setup_true_lang-ByrO-ipx.js";import{E as j,a as X,h as ml,l as _l,_ as cl}from"./id-editor.vue_vue_type_script_setup_true_lang-CR99OnI7.js";const fl=100,bl=600,Se={beforeMount(d,_){const r=_.value,{interval:o=fl,delay:f=bl}=Ae(r)?{}:r;let n,V;const i=()=>Ae(r)?r():r.handler(),s=()=>{V&&(clearTimeout(V),V=void 0),n&&(clearInterval(n),n=void 0)};d.addEventListener("mousedown",v=>{v.button===0&&(s(),i(),document.addEventListener("mouseup",()=>s(),{once:!0}),V=setTimeout(()=>{n=setInterval(()=>{i()},o)},f))})}},vl=Ke({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Be,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:d=>d===null||q(d)||["min","max"].includes(d),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:d=>d>=0&&d===Number.parseInt(`${d}`,10)},validateEvent:{type:Boolean,default:!0},...He(["ariaLabel"])}),Vl={[Fe]:(d,_)=>_!==d,blur:d=>d instanceof FocusEvent,focus:d=>d instanceof FocusEvent,[pe]:d=>q(d)||ae(d),[te]:d=>q(d)||ae(d)},gl=["aria-label","onKeydown"],yl=["aria-label","onKeydown"],hl=S({name:"ElInputNumber"}),Il=S({...hl,props:vl,emits:Vl,setup(d,{expose:_,emit:r}){const o=d,{t:f}=We(),n=Ge("input-number"),V=de(),i=Ye({currentValue:o.modelValue,userInput:null}),{formItem:s}=qe(),v=J(()=>q(o.modelValue)&&o.modelValue<=o.min),E=J(()=>q(o.modelValue)&&o.modelValue>=o.max),p=J(()=>{const t=T(o.step);return ue(o.precision)?Math.max(T(o.modelValue),t):(t>o.precision,o.precision)}),g=J(()=>o.controls&&o.controlsPosition==="right"),D=je(),h=Xe(),P=J(()=>{if(i.userInput!==null)return i.userInput;let t=i.currentValue;if(ae(t))return"";if(q(t)){if(Number.isNaN(t))return"";ue(o.precision)||(t=t.toFixed(o.precision))}return t}),M=(t,c)=>{if(ue(c)&&(c=p.value),c===0)return Math.round(t);let u=String(t);const y=u.indexOf(".");if(y===-1||!u.replace(".","").split("")[y+c])return t;const ne=u.length;return u.charAt(ne-1)==="5"&&(u=`${u.slice(0,Math.max(0,ne-1))}6`),Number.parseFloat(Number(u).toFixed(c))},T=t=>{if(ae(t))return 0;const c=t.toString(),u=c.indexOf(".");let y=0;return u!==-1&&(y=c.length-u-1),y},A=(t,c=1)=>q(t)?M(t+o.step*c):i.currentValue,K=()=>{if(o.readonly||h.value||E.value)return;const t=Number(P.value)||0,c=A(t);$(c),r(pe,i.currentValue),oe()},W=()=>{if(o.readonly||h.value||v.value)return;const t=Number(P.value)||0,c=A(t,-1);$(c),r(pe,i.currentValue),oe()},G=(t,c)=>{const{max:u,min:y,step:m,precision:Y,stepStrictly:ne,valueOnClear:re}=o;u<y&&tl("InputNumber","min should not be greater than max.");let B=Number(t);if(ae(t)||Number.isNaN(B))return null;if(t===""){if(re===null)return null;B=al(re)?{min:y,max:u}[re]:re}return ne&&(B=M(Math.round(B/m)*m,Y)),ue(Y)||(B=M(B,Y)),(B>u||B<y)&&(B=B>u?u:y,c&&r(te,B)),B},$=(t,c=!0)=>{var u;const y=i.currentValue,m=G(t);if(!c){r(te,m);return}y===m&&t||(i.userInput=null,r(te,m),y!==m&&r(Fe,m,y),o.validateEvent&&((u=s==null?void 0:s.validate)==null||u.call(s,"change").catch(Y=>Oe())),i.currentValue=m)},z=t=>{i.userInput=t;const c=t===""?null:Number(t);r(pe,c),$(c,!1)},U=t=>{const c=t!==""?Number(t):"";(q(c)&&!Number.isNaN(c)||t==="")&&$(c),oe(),i.userInput=null},N=()=>{var t,c;(c=(t=V.value)==null?void 0:t.focus)==null||c.call(t)},w=()=>{var t,c;(c=(t=V.value)==null?void 0:t.blur)==null||c.call(t)},F=t=>{r("focus",t)},ce=t=>{var c;i.userInput=null,r("blur",t),o.validateEvent&&((c=s==null?void 0:s.validate)==null||c.call(s,"blur").catch(u=>Oe()))},oe=()=>{i.currentValue!==o.modelValue&&(i.currentValue=o.modelValue)},fe=t=>{document.activeElement===t.target&&t.preventDefault()};return Je(()=>o.modelValue,(t,c)=>{const u=G(t,!0);i.userInput===null&&u!==c&&(i.currentValue=u)},{immediate:!0}),Qe(()=>{var t;const{min:c,max:u,modelValue:y}=o,m=(t=V.value)==null?void 0:t.input;if(m.setAttribute("role","spinbutton"),Number.isFinite(u)?m.setAttribute("aria-valuemax",String(u)):m.removeAttribute("aria-valuemax"),Number.isFinite(c)?m.setAttribute("aria-valuemin",String(c)):m.removeAttribute("aria-valuemin"),m.setAttribute("aria-valuenow",i.currentValue||i.currentValue===0?String(i.currentValue):""),m.setAttribute("aria-disabled",String(h.value)),!q(y)&&y!=null){let Y=Number(y);Number.isNaN(Y)&&(Y=null),r(te,Y)}m.addEventListener("wheel",fe,{passive:!1})}),Ze(()=>{var t,c;const u=(t=V.value)==null?void 0:t.input;u==null||u.setAttribute("aria-valuenow",`${(c=i.currentValue)!=null?c:""}`)}),xe({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},J(()=>!!o.label)),_({focus:N,blur:w}),(t,c)=>(b(),k("div",{class:be([a(n).b(),a(n).m(a(D)),a(n).is("disabled",a(h)),a(n).is("without-controls",!t.controls),a(n).is("controls-right",a(g))]),onDragstart:c[0]||(c[0]=ee(()=>{},["prevent"]))},[t.controls?ke((b(),k("span",{key:0,role:"button","aria-label":a(f)("el.inputNumber.decrease"),class:be([a(n).e("decrease"),a(n).is("disabled",a(v))]),onKeydown:se(W,["enter"])},[$e(t.$slots,"decrease-icon",{},()=>[e(a(ve),null,{default:l(()=>[a(g)?(b(),I(a(el),{key:0})):(b(),I(a(ge),{key:1}))]),_:1})])],42,gl)),[[a(Se),W]]):R("v-if",!0),t.controls?ke((b(),k("span",{key:1,role:"button","aria-label":a(f)("el.inputNumber.increase"),class:be([a(n).e("increase"),a(n).is("disabled",a(E))]),onKeydown:se(K,["enter"])},[$e(t.$slots,"increase-icon",{},()=>[e(a(ve),null,{default:l(()=>[a(g)?(b(),I(a(ll),{key:0})):(b(),I(a(ie),{key:1}))]),_:1})])],42,yl)),[[a(Se),K]]):R("v-if",!0),e(a(le),{id:t.id,ref_key:"input",ref:V,type:"number",step:t.step,"model-value":a(P),placeholder:t.placeholder,readonly:t.readonly,disabled:a(h),size:a(D),max:t.max,min:t.min,name:t.name,"aria-label":t.label||t.ariaLabel,"validate-event":!1,onKeydown:[se(ee(K,["prevent"]),["up"]),se(ee(W,["prevent"]),["down"])],onBlur:ce,onFocus:F,onInput:z,onChange:U},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Cl=ol(Il,[["__file","input-number.vue"]]);const Le=nl(Cl),Pl=d=>(pl("data-v-fb21650e"),d=d(),il(),d),wl={class:"form-config"},El={class:"use-other-operate-form"},Ul=Pl(()=>x("div",{class:"my-label"},"使用其他操作表单",-1)),Nl={key:0,class:"just-config"},Tl={key:0,class:"nodata"},Al=S({__name:"FormConfig",props:Re({id:{}},{modelValue:{default:()=>({})},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const _=d,r=ye(d,"modelValue"),o=J(()=>{var i,s;return(s=(i=r.value.widgetList)==null?void 0:i.filter(v=>{var E;return!!((E=v.options)!=null&&E.label)}))==null?void 0:s.map(v=>{var E;return(E=v.options)==null?void 0:E.label}).join(", ")}),f=de(!1),n=J(()=>{var g,D;const{activeDesignData:i}=rl(),s=(g=i.options)==null?void 0:g.tableOperations,v=(D=i.options)==null?void 0:D.tableColumnOperations,E=s==null?void 0:s.filter(h=>{var P;return!((P=h.formConfig)!=null&&P.useOtherOperateForm)&&!!h.formConfig}),p=v==null?void 0:v.filter(h=>{var P;return!((P=h.formConfig)!=null&&P.useOtherOperateForm)&&!!h.formConfig});return[...E??[],...p??[]].filter(h=>h.id!==_.id).map(h=>({label:`${h.label}表单`,value:h.value}))}),V=()=>{f.value=!0};return(i,s)=>{const v=me,E=_e,p=ve,g=Ce,D=sl;return b(),k(Q,null,[x("div",wl,[x("div",El,[Ul,e(E,{modelValue:r.value.useOtherOperateForm,"onUpdate:modelValue":s[0]||(s[0]=h=>r.value.useOtherOperateForm=h),placeholder:"请选择",clearable:"",filterable:""},{default:l(()=>[(b(!0),k(Q,null,Z(a(n),h=>(b(),I(v,{key:h.value,label:h.label,value:h.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),r.value.useOtherOperateForm?R("",!0):(b(),k("div",Nl,[C(he(a(o))+" ",1),a(o)?R("",!0):(b(),k("div",Tl,"暂未配置")),e(g,{type:"primary",link:"",onClick:V},{default:l(()=>[C(" 去配置 "),e(p,null,{default:l(()=>[e(a(ul))]),_:1})]),_:1})]))]),e(D,{title:"表单配置",modelValue:a(f),"onUpdate:modelValue":s[1]||(s[1]=h=>Ie(f)?f.value=h:null),fullscreen:""},{default:l(()=>[C(" 发大范德萨范德萨 ")]),_:1},8,["modelValue"])],64)}}}),kl=Pe(Al,[["__scopeId","data-v-fb21650e"]]),$l={class:"operations-config"},Ol={class:"header"},Sl={class:"label"},Fl={key:1,class:"nodata"},Rl=S({__name:"OperationsConfig",props:Re({title:{default:"标题"},formItemProp:{default:()=>[]}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const _=ye(d,"modelValue"),r=de(1),o=n=>{_.value.splice(n,1)},f=()=>{_.value.push({id:Ve(5),apiConfig:{params:[]},echoApiConfig:{params:[]}}),r.value=_.value.length};return(n,V)=>{const i=De,s=Ce,v=O,E=le,p=L,g=Te,D=me,h=_e,P=j,M=X,T=O,A=we,K=Ue,W=kl,G=Ne,$=Me,z=ze;return b(),k("div",$l,[e(i,{label:n.title},null,8,["label"]),_.value.length?(b(),I(z,{key:0,modelValue:a(r),"onUpdate:modelValue":V[0]||(V[0]=U=>Ie(r)?r.value=U:null),accordion:""},{default:l(()=>[(b(!0),k(Q,null,Z(_.value,(U,N)=>(b(),I($,{key:"item"+N,name:N+1},{title:l(()=>[x("div",Ol,[C(" 操作 - "),x("span",Sl,he(U.label),1)]),e(s,{type:"danger",icon:a(ge),circle:"",size:"small",onClick:ee(w=>o(N),["stop"]),style:{"margin-right":"10px"}},null,8,["icon","onClick"])]),default:l(()=>[e(G,{gutter:a(Ee)},{default:l(()=>[e(g,null,{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","label"],rules:[{required:!0,message:"必填项"}]},{label:l(()=>[e(v,{label:"操作名称"})]),default:l(()=>[e(E,{modelValue:U.label,"onUpdate:modelValue":w=>U.label=w,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(g,null,{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","value"],rules:[{required:!0,message:"必填项"}]},{label:l(()=>[e(v,{label:"操作Key","tooltip-content":"确保操作Key的唯一性"})]),default:l(()=>[e(E,{modelValue:U.value,"onUpdate:modelValue":w=>U.value=w,placeholder:"例：add, batch_deletion",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(g,null,{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","code"]},{label:l(()=>[e(v,{label:"权限标识符"})]),default:l(()=>[e(E,{modelValue:U.code,"onUpdate:modelValue":w=>U.code=w,placeholder:"例：add, edit, delete",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(g,null,{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","type"]},{label:l(()=>[e(v,{label:"操作按钮类型"})]),default:l(()=>[e(h,{modelValue:U.type,"onUpdate:modelValue":w=>U.type=w,placeholder:"请选择",clearable:""},{default:l(()=>[(b(),k(Q,null,Z(["primary","success","warning","danger","info"],w=>e(D,{key:w,label:w,value:w},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(g,null,{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","enableConfirmation"]},{label:l(()=>[e(v,{label:"开启二次确认"})]),default:l(()=>[e(M,{modelValue:U.enableConfirmation,"onUpdate:modelValue":w=>U.enableConfirmation=w},{default:l(()=>[e(P,{label:!0},{default:l(()=>[C("是")]),_:1}),e(P,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(K,{span:24},{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","apiConfig"]},{label:l(()=>[e(T,{label:"操作接口配置"})]),default:l(()=>[e(A,{modelValue:_.value[N].apiConfig,"onUpdate:modelValue":w=>_.value[N].apiConfig=w,"form-item-prop":[...n.formItemProp,N+"","apiConfig"]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024),e(K,{span:24},{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","formConfig"]},{label:l(()=>[e(v,{label:"表单配置","tooltip-content":"操作需要提交表单时配置，和回显接口配置配合使用，例如编辑操作"})]),default:l(()=>[e(W,{modelValue:U.formConfig,"onUpdate:modelValue":w=>U.formConfig=w,id:U.id},null,8,["modelValue","onUpdate:modelValue","id"])]),_:2},1032,["prop"])]),_:2},1024),e(K,{span:24,style:{"margin-top":"12px"}},{default:l(()=>[e(p,{prop:[...n.formItemProp,N+"","echoApiConfig"]},{label:l(()=>[e(T,{label:"回显接口配置"})]),default:l(()=>[e(A,{modelValue:_.value[N].echoApiConfig,"onUpdate:modelValue":w=>_.value[N].echoApiConfig=w,"form-item-prop":[...n.formItemProp,N+"","echoApiConfig"]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024)]),_:2},1032,["gutter"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):R("",!0),_.value.length?R("",!0):(b(),k("div",Fl,"暂未配置")),e(s,{type:"primary",icon:a(ie),onClick:f,style:{width:"100%","margin-top":"10px"}},{default:l(()=>[C(" 新增操作 ")]),_:1},8,["icon"])])}}}),Dl=Pe(Rl,[["__scopeId","data-v-9303b4e2"]]),Ml=[{label:"左侧",value:"left"},{label:"右侧",value:"right"}],zl=[{label:"静态数据转换",value:"static_data_transform"},{label:"动态数据转换",value:"dynamic_data_transform"},{label:"日期格式化",value:"date_format"}],Ll={class:"table-column-config"},Kl={class:"header"},Bl={class:"label"},Hl={key:1,class:"nodata"},Wl=S({__name:"TableColumnConfig",props:{root:{type:Boolean},options:{},formItemProp:{},label:{},isSubLevel:{type:Boolean}},setup(d){var E;const r=H(d,"options"),o=de((E=ml(r.value.tableColumnItems))==null?void 0:E.id);function f(){var p,g;(p=r.value.tableColumnItems)==null||p.push({id:Ve(5),apiConfig:{params:[]}}),o.value=(g=_l(r.value.tableColumnItems))==null?void 0:g.id}function n(p){p.tableColumnItems||(p.tableColumnItems=[]),p.tableColumnItems.push({id:Ve(5)})}function V(p,g){g.splice(p,1),g.length&&(g[p]?o.value=g[p].id:o.value=g[p-1].id)}function i(p,g){g.api=void 0,g.apiConfig=void 0,g.apiParams=void 0,g.staticDataKey=void 0,g.format=void 0,g.isTreeData=void 0,p==="dynamic_data_transform"?g.apiConfig={params:[]}:p==="date_format"&&(g.format="yyyy-MM-dd HH:mm:ss")}function s(p,g){return Array.isArray(g)?[...g,"tableColumnItems",p+""]:["options","tableColumnItems",p+""]}function v(p,g){return g?`${g} / ${p??""}`:`${p??""}`}return(p,g)=>{var t,c;const D=De,h=Ce,P=O,M=le,T=L,A=Te,K=Le,W=me,G=_e,$=j,z=X,U=O,N=we,w=Ue,F=Ne,ce=dl("TableColumnConfig",!0),oe=Me,fe=ze;return b(),k("div",Ll,[e(D,{label:p.root?"表列配置":"子表列配置"},null,8,["label"]),(t=a(r).tableColumnItems)!=null&&t.length?(b(),I(fe,{key:0,modelValue:a(o),"onUpdate:modelValue":g[0]||(g[0]=u=>Ie(o)?o.value=u:null),accordion:""},{default:l(()=>[(b(!0),k(Q,null,Z(a(r).tableColumnItems,(u,y)=>(b(),I(oe,{key:u.id,name:u.id},{title:l(()=>[x("div",Kl,[C(" 表列 - "),x("span",Bl,he(v(u.label,p.label)),1)]),e(h,{type:"danger",icon:a(ge),circle:"",size:"small",onClick:ee(m=>V(y,a(r).tableColumnItems),["stop"])},null,8,["icon","onClick"]),e(h,{type:"primary",icon:a(ie),circle:"",size:"small",style:{"margin-right":"10px"},onClick:ee(m=>n(u),["stop"])},null,8,["icon","onClick"])]),default:l(()=>[e(F,{gutter:a(Ee)},{default:l(()=>[e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"label"]},{label:l(()=>[e(P,{label:"列名称"})]),default:l(()=>[e(M,{modelValue:u.label,"onUpdate:modelValue":m=>u.label=m,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"prop"]},{label:l(()=>[e(P,{label:"字段名称"})]),default:l(()=>[e(M,{modelValue:u.prop,"onUpdate:modelValue":m=>u.prop=m,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"width"]},{label:l(()=>[e(P,{label:"列宽度"})]),default:l(()=>[e(K,{modelValue:u.width,"onUpdate:modelValue":m=>u.width=m,placeholder:"请输入",min:50,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"minWidth"]},{label:l(()=>[e(P,{label:"列最小宽度","tooltip-content":"该设置会把剩余宽度按比例分配给设置了该属性的列"})]),default:l(()=>[e(K,{modelValue:u.minWidth,"onUpdate:modelValue":m=>u.minWidth=m,placeholder:"请输入",min:50,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"fixed"]},{label:l(()=>[e(P,{label:"固定列"})]),default:l(()=>[e(G,{modelValue:u.fixed,"onUpdate:modelValue":m=>u.fixed=m,placeholder:"请选择",clearable:""},{default:l(()=>[(b(!0),k(Q,null,Z(a(Ml),m=>(b(),I(W,{key:m.value,label:`${m.value}-${m.label}`,value:m.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"showOverflowTooltip"]},{label:l(()=>[e(P,{label:"内容超长tooltip"})]),default:l(()=>[e(z,{modelValue:u.showOverflowTooltip,"onUpdate:modelValue":m=>u.showOverflowTooltip=m},{default:l(()=>[e($,{label:!0},{default:l(()=>[C("是")]),_:1}),e($,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"sortable"]},{label:l(()=>[e(P,{label:"开启排序"})]),default:l(()=>[e(z,{modelValue:u.sortable,"onUpdate:modelValue":m=>u.sortable=m},{default:l(()=>[e($,{label:!0},{default:l(()=>[C("是")]),_:1}),e($,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(A,null,{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"formatterType"]},{label:l(()=>[e(P,{label:"数据回显类型","tooltip-content":"数据回显时的转换规则或格式化类型"})]),default:l(()=>[e(G,{modelValue:u.formatterType,"onUpdate:modelValue":m=>u.formatterType=m,placeholder:"请选择",clearable:"",onChange:m=>i(m,u)},{default:l(()=>[(b(!0),k(Q,null,Z(a(zl),m=>(b(),I(W,{key:m.value,label:m.label,value:m.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["prop"])]),_:2},1024),u.formatterType==="dynamic_data_transform"?(b(),I(A,{key:0},{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"isTreeData"]},{label:l(()=>[e(P,{label:"是否树形数据"})]),default:l(()=>[e(z,{modelValue:u.isTreeData,"onUpdate:modelValue":m=>u.isTreeData=m},{default:l(()=>[e($,{label:!0},{default:l(()=>[C("是")]),_:1}),e($,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0),u.formatterType==="static_data_transform"?(b(),I(A,{key:1},{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"staticDataKey"]},{label:l(()=>[e(P,{label:"静态数据Key","tooltip-content":"关联当前view的静态数据Key配置"})]),default:l(()=>[e(M,{modelValue:u.staticDataKey,"onUpdate:modelValue":m=>u.staticDataKey=m,placeholder:"例：STATIC_DATA_KEY",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0),u.formatterType==="date_format"?(b(),I(A,{key:2},{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp),"format"]},{label:l(()=>[e(P,{label:"格式化日期"})]),default:l(()=>[e(M,{modelValue:u.format,"onUpdate:modelValue":m=>u.format=m,placeholder:"yyyy-MM-dd HH:mm:ss",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0),u.formatterType==="dynamic_data_transform"?(b(),I(w,{key:3,span:24},{default:l(()=>[e(T,{prop:[...s(y,p.formItemProp)]},{label:l(()=>[e(U,{label:"动态数据回显接口配置"})]),default:l(()=>[e(N,{modelValue:a(r).tableColumnItems[y].apiConfig,"onUpdate:modelValue":m=>a(r).tableColumnItems[y].apiConfig=m,"form-item-prop":[...s(y,p.formItemProp)]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0)]),_:2},1032,["gutter"]),e(ce,{root:!1,options:u,"form-item-prop":s(y,p.formItemProp),label:v(u.label,p.label),"is-sub-level":""},null,8,["options","form-item-prop","label"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):R("",!0),(c=a(r).tableColumnItems)!=null&&c.length?R("",!0):(b(),k("div",Hl,"暂未配置")),p.isSubLevel?R("",!0):(b(),I(h,{key:2,type:"primary",icon:a(ie),onClick:f,style:{width:"100%","margin-top":"10px"}},{default:l(()=>[C(" 新增表列 ")]),_:1},8,["icon"]))])}}}),Gl=Pe(Wl,[["__scopeId","data-v-8a8304a6"]]),Yl=S({__name:"flexible-editor",props:{options:{},label:{default:"主轴弹性"},formItemProp:{default:()=>["options","flexible"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=j,i=X,s=L;return b(),I(s,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label},null,8,["label"])]),default:l(()=>[e(i,{modelValue:a(r).flexible,"onUpdate:modelValue":f[0]||(f[0]=v=>a(r).flexible=v)},{default:l(()=>[e(V,{label:!0},{default:l(()=>[C("是")]),_:1}),e(V,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),ql=S({__name:"show-pagination-editor",props:{options:{},label:{default:"显示分页"},formItemProp:{default:()=>["options","showPagination"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=j,i=X,s=L;return b(),I(s,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label},null,8,["label"])]),default:l(()=>[e(i,{modelValue:a(r).showPagination,"onUpdate:modelValue":f[0]||(f[0]=v=>a(r).showPagination=v)},{default:l(()=>[e(V,{label:!0},{default:l(()=>[C("是")]),_:1}),e(V,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),jl=S({__name:"highlight-current-row-editor",props:{options:{},label:{default:"高亮当前行"},formItemProp:{default:()=>["options","highlightCurrentRow"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=j,i=X,s=L;return b(),I(s,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label},null,8,["label"])]),default:l(()=>[e(i,{modelValue:a(r).highlightCurrentRow,"onUpdate:modelValue":f[0]||(f[0]=v=>a(r).highlightCurrentRow=v)},{default:l(()=>[e(V,{label:!0},{default:l(()=>[C("是")]),_:1}),e(V,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Xl=S({__name:"auto-calc-max-height-editor",props:{options:{},label:{default:"自动计算最大高度"},formItemProp:{default:()=>["options","autoCalcMaxHeight"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=j,i=X,s=L;return b(),I(s,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label},null,8,["label"])]),default:l(()=>[e(i,{modelValue:a(r).autoCalcMaxHeight,"onUpdate:modelValue":f[0]||(f[0]=v=>a(r).autoCalcMaxHeight=v)},{default:l(()=>[e(V,{label:!0},{default:l(()=>[C("是")]),_:1}),e(V,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Jl=S({__name:"virtualized-editor",props:{options:{},label:{default:"虚拟化表格"},formItemProp:{default:()=>["options","virtualized"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=j,i=X,s=L;return b(),I(s,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label},null,8,["label"])]),default:l(()=>[e(i,{modelValue:a(r).virtualized,"onUpdate:modelValue":f[0]||(f[0]=v=>a(r).virtualized=v)},{default:l(()=>[e(V,{label:!0},{default:l(()=>[C("是")]),_:1}),e(V,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Ql=S({__name:"lazy-editor",props:{options:{},label:{default:"懒加载子节点数据"},formItemProp:{default:()=>["options","lazy"]},formItemRules:{}},emits:["change"],setup(d){const r=H(d,"options");function o(f,n){f||(n.loadApiMethod="GET",n.loadApi=void 0,n.loadApiParams=void 0)}return(f,n)=>{const V=O,i=j,s=X,v=L;return b(),I(v,{prop:f.formItemProp},{label:l(()=>[e(V,{label:f.label},null,8,["label"])]),default:l(()=>[e(s,{modelValue:a(r).lazy,"onUpdate:modelValue":n[0]||(n[0]=E=>a(r).lazy=E),onChange:n[1]||(n[1]=E=>o(E,a(r)))},{default:l(()=>[e(i,{label:!0},{default:l(()=>[C("是")]),_:1}),e(i,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Zl=S({__name:"row-key-editor",props:{options:{},label:{default:"行数据Key"},formItemProp:{default:()=>["options","rowKey"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=le,i=L;return b(),I(i,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label,"tooltip-content":"用来优化 Table 的渲染，显示树形数据时，该属性是必填的"},null,8,["label"])]),default:l(()=>[e(V,{modelValue:a(r).rowKey,"onUpdate:modelValue":f[0]||(f[0]=s=>a(r).rowKey=s),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),xl=S({__name:"item-children-editor",props:{options:{},label:{default:"children别名"},formItemProp:{default:()=>["options","itemChildren"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=le,i=L;return b(),I(i,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label,"tooltip-content":"渲染嵌套数据时的子节点 key 别名"},null,8,["label"])]),default:l(()=>[e(V,{modelValue:a(r).itemChildren,"onUpdate:modelValue":f[0]||(f[0]=s=>a(r).itemChildren=s),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),eo=S({__name:"item-has-children-editor",props:{options:{},label:{default:"hasChildren别名"},formItemProp:{default:()=>["options","itemHasChildren"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=le,i=L;return b(),I(i,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label,"tooltip-content":"渲染嵌套数据时，指定 row 中的 hasChildren 字段来指定哪些行是包含子节点"},null,8,["label"])]),default:l(()=>[e(V,{modelValue:a(r).itemHasChildren,"onUpdate:modelValue":f[0]||(f[0]=s=>a(r).itemHasChildren=s),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),lo=[{label:"固定",value:"fixed"},{label:"自动",value:"auto"}],oo=S({__name:"table-layout-editor",props:{options:{},label:{default:"表格的布局方式"},formItemProp:{default:()=>["options","tableLayout"]},formItemRules:{}},setup(d){const r=H(d,"options");return(o,f)=>{const n=O,V=me,i=_e,s=L;return b(),I(s,{prop:o.formItemProp},{label:l(()=>[e(n,{label:o.label},null,8,["label"])]),default:l(()=>[e(i,{modelValue:a(r).tableLayout,"onUpdate:modelValue":f[0]||(f[0]=v=>a(r).tableLayout=v),placeholder:"请选择",clearable:""},{default:l(()=>[(b(!0),k(Q,null,Z(a(lo),v=>(b(),I(V,{key:v.value,label:`${v.label} - ${v.value}`,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),so=S({__name:"d-table",props:{modelValue:{default:()=>({options:{}})},modelModifiers:{}},emits:["update:modelValue"],setup(d){const _=ye(d,"modelValue");return(r,o)=>{const f=cl,n=Te,V=oo,i=eo,s=xl,v=Zl,E=Le,p=L,g=Ql,D=Jl,h=Xl,P=O,M=j,T=X,A=jl,K=ql,W=Yl,G=O,$=we,z=Ue,U=Dl,N=Gl,w=Ne;return b(),I(w,{gutter:a(Ee)},{default:l(()=>[e(n,null,{default:l(()=>[e(f,{"form-data":_.value},null,8,["form-data"])]),_:1}),e(n,null,{default:l(()=>[e(V,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(i,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(s,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(v,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(p,{label:"操作列宽度",prop:["options","operateColumnWidth"]},{default:l(()=>[e(E,{modelValue:_.value.options.operateColumnWidth,"onUpdate:modelValue":o[0]||(o[0]=F=>_.value.options.operateColumnWidth=F),placeholder:"请输入",min:100,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:l(()=>[e(g,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(D,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(h,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(p,{prop:["options","showSelection"]},{label:l(()=>[e(P,{label:"显示多选框"})]),default:l(()=>[e(T,{modelValue:_.value.options.showSelection,"onUpdate:modelValue":o[1]||(o[1]=F=>_.value.options.showSelection=F)},{default:l(()=>[e(M,{label:!0},{default:l(()=>[C("是")]),_:1}),e(M,{label:!1},{default:l(()=>[C("否")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:l(()=>[e(A,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(K,{options:_.value.options},null,8,["options"])]),_:1}),e(n,null,{default:l(()=>[e(W,{options:_.value.options},null,8,["options"])]),_:1}),e(z,{span:24},{default:l(()=>[e(p,{prop:"options.apiConfig"},{label:l(()=>[e(G,{label:"列表接口配置"})]),default:l(()=>[e($,{modelValue:_.value.options.apiConfig,"onUpdate:modelValue":o[2]||(o[2]=F=>_.value.options.apiConfig=F),"form-item-prop":["options","apiConfig"]},null,8,["modelValue"])]),_:1})]),_:1}),_.value.options.lazy?(b(),I(z,{key:0,span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(p,{prop:"options.lazyApiConfig"},{label:l(()=>[e(G,{label:"懒加载子节点接口配置"})]),default:l(()=>[e($,{modelValue:_.value.options.lazyApiConfig,"onUpdate:modelValue":o[3]||(o[3]=F=>_.value.options.lazyApiConfig=F),"form-item-prop":["options","lazyApiConfig"]},null,8,["modelValue"])]),_:1})]),_:1})):R("",!0),e(z,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(U,{title:"表格操作配置",modelValue:_.value.options.tableOperations,"onUpdate:modelValue":o[4]||(o[4]=F=>_.value.options.tableOperations=F),"form-item-prop":["options","tableOperations"]},null,8,["modelValue"])]),_:1}),e(z,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(N,{root:"",options:_.value.options},null,8,["options"])]),_:1}),e(z,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(U,{title:"表列操作配置",modelValue:_.value.options.tableColumnOperations,"onUpdate:modelValue":o[5]||(o[5]=F=>_.value.options.tableColumnOperations=F),"form-item-prop":["options","tableColumnOperations"]},null,8,["modelValue"])]),_:1})]),_:1},8,["gutter"])}}});export{so as default};
