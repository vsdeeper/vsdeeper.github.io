import{Q as R,R as Q,T as te,aa as W,an as J,ad as oe,ac as se,aL as ne,r as F,aM as z,X as de,a9 as ie,l as O,p as _,d as k,o as p,a as h,q as D,j as x,u as a,s as G,c as I,w as u,m as re,aN as ue,aO as ce,U as pe,aP as me,b as T,z as w,t as X,e as c,a6 as _e,a4 as Y,av as fe,H as ve,ah as ye,ai as be,v as ge,x as he,J as N,aQ as Ce,L as Z,_ as ee,az as Ee,y as Ie,g as U,aR as Te,aS as ke,F as $,A as B,K as Ve,aT as we,G as Pe,B as xe,E as He,aU as $e,C as Ne,D as Ae}from"./index-CEqAfCFG.js";import{_ as Be,b as Ke,d as De,a as Oe}from"./constants-D7nKy17g.js";const j=o=>oe(o)||se(o)||ne(o),Se=R({accordion:Boolean,modelValue:{type:Q([Array,String,Number]),default:()=>te([])}}),Ue={[W]:j,[J]:j},ae=Symbol("collapseContextKey"),Fe=(o,l)=>{const n=F(z(o.modelValue)),i=d=>{n.value=d;const t=o.accordion?n.value[0]:n.value;l(W,t),l(J,t)},e=d=>{if(o.accordion)i([n.value[0]===d?"":d]);else{const t=[...n.value],s=t.indexOf(d);s>-1?t.splice(s,1):t.push(d),i(t)}};return de(()=>o.modelValue,()=>n.value=z(o.modelValue),{deep:!0}),ie(ae,{activeNames:n,handleItemClick:e}),{activeNames:n,setActiveNames:i}},Ge=()=>{const o=O("collapse");return{rootKls:_(()=>o.b())}},Me=k({name:"ElCollapse"}),Le=k({...Me,props:Se,emits:Ue,setup(o,{expose:l,emit:n}){const i=o,{activeNames:e,setActiveNames:d}=Fe(i,n),{rootKls:t}=Ge();return l({activeNames:e,setActiveNames:d}),(s,m)=>(p(),h("div",{class:x(a(t))},[D(s.$slots,"default")],2))}});var qe=G(Le,[["__file","collapse.vue"]]);const ze=k({name:"ElCollapseTransition"}),je=k({...ze,setup(o){const l=O("collapse-transition"),n=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},i={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){n(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){n(e)},leaveCancelled(e){n(e)}};return(e,d)=>(p(),I(ce,re({name:a(l).b()},ue(i)),{default:u(()=>[D(e.$slots,"default")]),_:3},16,["name"]))}});var K=G(je,[["__file","collapse-transition.vue"]]);K.install=o=>{o.component(K.name,K)};const Re=K,Qe=R({title:{type:String,default:""},name:{type:Q([String,Number]),default:void 0},disabled:Boolean}),We=o=>{const l=pe(ae),{namespace:n}=O("collapse"),i=F(!1),e=F(!1),d=me(),t=_(()=>d.current++),s=_(()=>{var C;return(C=o.name)!=null?C:`${n.value}-id-${d.prefix}-${a(t)}`}),m=_(()=>l==null?void 0:l.activeNames.value.includes(a(s)));return{focusing:i,id:t,isActive:m,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:i.value=!0},50)},handleHeaderClick:()=>{o.disabled||(l==null||l.handleItemClick(a(s)),i.value=!1,e.value=!0)},handleEnterClick:()=>{l==null||l.handleItemClick(a(s))}}},Je=(o,{focusing:l,isActive:n,id:i})=>{const e=O("collapse"),d=_(()=>[e.b("item"),e.is("active",a(n)),e.is("disabled",o.disabled)]),t=_(()=>[e.be("item","header"),e.is("active",a(n)),{focusing:a(l)&&!o.disabled}]),s=_(()=>[e.be("item","arrow"),e.is("active",a(n))]),m=_(()=>e.be("item","wrap")),f=_(()=>e.be("item","content")),b=_(()=>e.b(`content-${a(i)}`)),v=_(()=>e.b(`head-${a(i)}`));return{arrowKls:s,headKls:t,rootKls:d,itemWrapperKls:m,itemContentKls:f,scopedContentId:b,scopedHeadId:v}},Xe=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],Ye=["id","aria-hidden","aria-labelledby"],Ze=k({name:"ElCollapseItem"}),ea=k({...Ze,props:Qe,setup(o,{expose:l}){const n=o,{focusing:i,id:e,isActive:d,handleFocus:t,handleHeaderClick:s,handleEnterClick:m}=We(n),{arrowKls:f,headKls:b,rootKls:v,itemWrapperKls:C,itemContentKls:S,scopedContentId:H,scopedHeadId:A}=Je(n,{focusing:i,isActive:d,id:e});return l({isActive:d}),(V,g)=>(p(),h("div",{class:x(a(v))},[T("button",{id:a(A),class:x(a(b)),"aria-expanded":a(d),"aria-controls":a(H),"aria-describedby":a(H),tabindex:V.disabled?-1:0,type:"button",onClick:g[0]||(g[0]=(...E)=>a(s)&&a(s)(...E)),onKeydown:g[1]||(g[1]=fe(ve((...E)=>a(m)&&a(m)(...E),["stop","prevent"]),["space","enter"])),onFocus:g[2]||(g[2]=(...E)=>a(t)&&a(t)(...E)),onBlur:g[3]||(g[3]=E=>i.value=!1)},[D(V.$slots,"title",{},()=>[w(X(V.title),1)]),c(a(Y),{class:x(a(f))},{default:u(()=>[c(a(_e))]),_:1},8,["class"])],42,Xe),c(a(Re),null,{default:u(()=>[ye(T("div",{id:a(H),role:"region",class:x(a(C)),"aria-hidden":!a(d),"aria-labelledby":a(A)},[T("div",{class:x(a(S))},[D(V.$slots,"default")],2)],10,Ye),[[be,a(d)]])]),_:3})],2))}});var le=G(ea,[["__file","collapse-item.vue"]]);const va=ge(qe,{CollapseItem:le}),ya=he(le),aa={class:"my-divider-title"},la=k({__name:"my-divider-title",props:{label:{},suffixIcon:{}},emits:["click-suffix-icon"],setup(o,{emit:l}){const n=l;return(i,e)=>{const d=Ce,t=Z;return p(),h("div",aa,[c(d,{"content-position":"left"},{default:u(()=>[w(X(i.label),1)]),_:1}),i.suffixIcon?(p(),I(t,{key:0,type:"primary",size:"small",icon:i.suffixIcon,circle:"",onClick:e[0]||(e[0]=s=>n("click-suffix-icon"))},null,8,["icon"])):N("",!0)])}}}),ta=ee(la,[["__scopeId","data-v-97fb9531"]]),oa=["GET","POST","PATCH","PUT","DELETE"],sa=[{label:"自动获取",value:"auto"},{label:"数字",value:"number"},{label:"字符串",value:"string"}],M=o=>(Ne("data-v-e4212377"),o=o(),Ae(),o),na={class:"api-config"},da={class:"params-config"},ia=M(()=>T("div",{class:"label"},"字段名称",-1)),ra={class:"label"},ua=M(()=>T("br",null,null,-1)),ca=M(()=>T("br",null,null,-1)),pa={key:1,class:"nodata"},ma=k({__name:"ApiConfig",props:Ee({formItemProp:{default:()=>["options"]}},{modelValue:{default:()=>({params:[]})},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const l=Ie(o,"modelValue"),n=_(()=>{var f;const{activeDesignData:t,designData:s}=U(),m=Te(t,s);return((f=m==null?void 0:m.options.globalApiConfig)==null?void 0:f.filter(b=>!!b.name))??[]});function i(){l.value.params||(l.value.params=[]),l.value.params.push({key:"id",valueType:"auto"})}function e(t){var s;(s=l.value.params)==null||s.splice(t,1)}function d(t,s){switch(t){case"valueType":{s.value=void 0;break}}}return(t,s)=>{var E,L,q;const m=Be,f=Ke,b=De,v=xe,C=He,S=ta,H=Y,A=$e,V=Oe,g=Z;return p(),h("div",na,[a(ke)((E=a(U)().activeDesignData)==null?void 0:E.id,a(U)().designData)?N("",!0):(p(),I(v,{key:0,prop:[...t.formItemProp,"useGlobalApi"]},{label:u(()=>[c(m,{label:"使用全局接口"})]),default:u(()=>[c(b,{modelValue:l.value.useGlobalApi,"onUpdate:modelValue":s[0]||(s[0]=r=>l.value.useGlobalApi=r),placeholder:"请选择",clearable:"",filterable:""},{default:u(()=>[(p(!0),h($,null,B(a(n),(r,P)=>(p(),I(f,{key:"useGlobalApi"+P,label:r.name,value:r.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop"])),l.value.useGlobalApi?N("",!0):(p(),h($,{key:1},[c(v,{prop:[...t.formItemProp,"name"]},{label:u(()=>[c(m,{label:"封装名称"},{"tooltip-content":u(()=>[w(" 请加上query前缀，例如：queryTableData ")]),_:1})]),default:u(()=>[c(C,{modelValue:l.value.name,"onUpdate:modelValue":s[1]||(s[1]=r=>l.value.name=r),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1},8,["prop"]),c(v,{prop:[...t.formItemProp,"url"],label:"接口地址"},{default:u(()=>[c(C,{modelValue:l.value.url,"onUpdate:modelValue":s[3]||(s[3]=r=>l.value.url=r),clearable:"",placeholder:"请输入"},{prepend:u(()=>[c(v,{prop:[...t.formItemProp,"method"]},{default:u(()=>[c(b,{modelValue:l.value.method,"onUpdate:modelValue":s[2]||(s[2]=r=>l.value.method=r),placeholder:"类型",style:{width:"100px"}},{default:u(()=>[(p(!0),h($,null,B(a(oa),r=>(p(),I(f,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop"])]),_:1},8,["modelValue"])]),_:1},8,["prop"]),T("div",da,[c(S,{label:"参数","suffix-icon":a(Ve),onClickSuffixIcon:i},null,8,["suffix-icon"]),(L=l.value.params)!=null&&L.length?(p(),I(V,{key:0,class:"header",align:"middle"},{default:u(()=>[ia,T("div",ra,[w(" 字段值 "),c(A,{placement:"top"},{content:u(()=>[w(" 表格操作中的自动获取代表批量操作时的自动获取多行数据的某个key的值；"),ua,w(" 表列操作中的自动获取代表单行操作时自动获取当前行的key的值，key默认取字段名称配置，配置无效；"),ca,w(" 以上其他场景下的自动获取配置无效； ")]),default:u(()=>[c(H,{color:"#ffae1f",style:{"margin-left":"3px"}},{default:u(()=>[c(a(we))]),_:1})]),_:1})])]),_:1})):N("",!0),(p(!0),h($,null,B(l.value.params,(r,P)=>(p(),I(V,{key:"params"+P,align:"middle"},{default:u(()=>[c(v,{prop:[...t.formItemProp,"params",P+"","key"]},{default:u(()=>[c(C,{modelValue:r.key,"onUpdate:modelValue":y=>r.key=y,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),c(v,{prop:[...t.formItemProp,"params",P+"","value"]},{default:u(()=>[c(C,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,class:"input",placeholder:r.valueType==="auto"?"自动获取的行数据key":"请输入"},{prepend:u(()=>[c(b,{modelValue:r.valueType,"onUpdate:modelValue":y=>r.valueType=y,placeholder:"类型",style:{width:"100px"},onChange:y=>d("valueType",r)},{default:u(()=>[(p(!0),h($,null,B(a(sa),y=>(p(),I(f,{key:y.value,label:y.label,value:y.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop"]),c(g,{type:"danger",size:"small",icon:a(Pe),circle:"",onClick:y=>e(P)},null,8,["icon","onClick"])]),_:2},1024))),128)),(q=l.value.params)!=null&&q.length?N("",!0):(p(),h("div",pa,"暂未配置"))])],64))])}}}),ba=ee(ma,[["__scopeId","data-v-e4212377"]]);export{ya as E,ba as _,va as a,ta as b};
