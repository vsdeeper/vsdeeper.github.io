import{ai as Ae,O as Fe,aj as Ge,ab as j,ak as qe,al as Re,am as de,an as ue,a8 as ae,d as S,ao as Ye,l as ze,r as re,ad as je,ap as Je,p as Q,a9 as ne,aq as Me,ar as Xe,W as Qe,a0 as Ze,a1 as xe,as as el,o as c,a as R,af as Se,u as s,j as me,at as ie,q as Ve,e,w as l,c as g,au as ll,I as Ce,a2 as ge,D as W,av as ol,G as fe,J as le,E as oe,s as Ke,U as tl,aa as al,aw as Oe,v as Le,ax as nl,n as ul,g as rl,ay as Ie,y as _e,f as sl,b as Z,z as y,az as pl,F as x,A as ee,t as he,aA as il,aB as dl,C as Pe,aC as ml,H as we,aD as fl,_ as Ue,aE as ye,B as L,aF as _l,aG as q}from"./index-CWWRlrrt.js";import{E as Be,_ as Ee,a as He}from"./ApiConfig-BwJ2uA56.js";import{b as ce,d as be,R as Ne,_ as F,a as Te,E as ke}from"./constants-DHco2zq6.js";import{_ as $e}from"./responsive-col.vue_vue_type_script_setup_true_lang-Ckmn7C-D.js";import{E as J,a as X,h as cl,l as bl,_ as vl}from"./id-editor.vue_vue_type_script_setup_true_lang-Dm4_p0n2.js";const Vl=100,gl=600,De={beforeMount(f,n){const r=n.value,{interval:t=Vl,delay:i=gl}=Ae(r)?{}:r;let a,_;const u=()=>Ae(r)?r():r.handler(),p=()=>{_&&(clearTimeout(_),_=void 0),a&&(clearInterval(a),a=void 0)};f.addEventListener("mousedown",V=>{V.button===0&&(p(),u(),document.addEventListener("mouseup",()=>p(),{once:!0}),_=setTimeout(()=>{a=setInterval(()=>{u()},t)},i))})}},yl=Fe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ge,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:f=>f===null||j(f)||["min","max"].includes(f),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:f=>f>=0&&f===Number.parseInt(`${f}`,10)},validateEvent:{type:Boolean,default:!0},...qe(["ariaLabel"])}),Cl={[Re]:(f,n)=>n!==f,blur:f=>f instanceof FocusEvent,focus:f=>f instanceof FocusEvent,[de]:f=>j(f)||ue(f),[ae]:f=>j(f)||ue(f)},Il=["aria-label","onKeydown"],hl=["aria-label","onKeydown"],Pl=S({name:"ElInputNumber"}),wl=S({...Pl,props:yl,emits:Cl,setup(f,{expose:n,emit:r}){const t=f,{t:i}=Ye(),a=ze("input-number"),_=re(),u=je({currentValue:t.modelValue,userInput:null}),{formItem:p}=Je(),V=Q(()=>j(t.modelValue)&&t.modelValue<=t.min),d=Q(()=>j(t.modelValue)&&t.modelValue>=t.max),m=Q(()=>{const o=K(t.step);return ne(t.precision)?Math.max(K(t.modelValue),o):(o>t.precision,t.precision)}),D=Q(()=>t.controls&&t.controlsPosition==="right"),E=Me(),C=Xe(),h=Q(()=>{if(u.userInput!==null)return u.userInput;let o=u.currentValue;if(ue(o))return"";if(j(o)){if(Number.isNaN(o))return"";ne(t.precision)||(o=o.toFixed(t.precision))}return o}),I=(o,b)=>{if(ne(b)&&(b=m.value),b===0)return Math.round(o);let P=String(o);const A=P.indexOf(".");if(A===-1||!P.replace(".","").split("")[A+b])return o;const se=P.length;return P.charAt(se-1)==="5"&&(P=`${P.slice(0,Math.max(0,se-1))}6`),Number.parseFloat(Number(P).toFixed(b))},K=o=>{if(ue(o))return 0;const b=o.toString(),P=b.indexOf(".");let A=0;return P!==-1&&(A=b.length-P-1),A},N=(o,b=1)=>j(o)?I(o+t.step*b):u.currentValue,G=()=>{if(t.readonly||C.value||d.value)return;const o=Number(h.value)||0,b=N(o);B(b),r(de,u.currentValue),v()},z=()=>{if(t.readonly||C.value||V.value)return;const o=Number(h.value)||0,b=N(o,-1);B(b),r(de,u.currentValue),v()},M=(o,b)=>{const{max:P,min:A,step:$,precision:Y,stepStrictly:se,valueOnClear:pe}=t;P<A&&tl("InputNumber","min should not be greater than max.");let H=Number(o);if(ue(o)||Number.isNaN(H))return null;if(o===""){if(pe===null)return null;H=al(pe)?{min:A,max:P}[pe]:pe}return se&&(H=I(Math.round(H/$)*$,Y)),ne(Y)||(H=I(H,Y)),(H>P||H<A)&&(H=H>P?P:A,b&&r(ae,H)),H},B=(o,b=!0)=>{var P;const A=u.currentValue,$=M(o);if(!b){r(ae,$);return}A===$&&o||(u.userInput=null,r(ae,$),A!==$&&r(Re,$,A),t.validateEvent&&((P=p==null?void 0:p.validate)==null||P.call(p,"change").catch(Y=>Oe())),u.currentValue=$)},w=o=>{u.userInput=o;const b=o===""?null:Number(o);r(de,b),B(b,!1)},T=o=>{const b=o!==""?Number(o):"";(j(b)&&!Number.isNaN(b)||o==="")&&B(b),v(),u.userInput=null},U=()=>{var o,b;(b=(o=_.value)==null?void 0:o.focus)==null||b.call(o)},te=()=>{var o,b;(b=(o=_.value)==null?void 0:o.blur)==null||b.call(o)},O=o=>{r("focus",o)},ve=o=>{var b;u.userInput=null,r("blur",o),t.validateEvent&&((b=p==null?void 0:p.validate)==null||b.call(p,"blur").catch(P=>Oe()))},v=()=>{u.currentValue!==t.modelValue&&(u.currentValue=t.modelValue)},k=o=>{document.activeElement===o.target&&o.preventDefault()};return Qe(()=>t.modelValue,(o,b)=>{const P=M(o,!0);u.userInput===null&&P!==b&&(u.currentValue=P)},{immediate:!0}),Ze(()=>{var o;const{min:b,max:P,modelValue:A}=t,$=(o=_.value)==null?void 0:o.input;if($.setAttribute("role","spinbutton"),Number.isFinite(P)?$.setAttribute("aria-valuemax",String(P)):$.removeAttribute("aria-valuemax"),Number.isFinite(b)?$.setAttribute("aria-valuemin",String(b)):$.removeAttribute("aria-valuemin"),$.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),$.setAttribute("aria-disabled",String(C.value)),!j(A)&&A!=null){let Y=Number(A);Number.isNaN(Y)&&(Y=null),r(ae,Y)}$.addEventListener("wheel",k,{passive:!1})}),xe(()=>{var o,b;const P=(o=_.value)==null?void 0:o.input;P==null||P.setAttribute("aria-valuenow",`${(b=u.currentValue)!=null?b:""}`)}),el({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},Q(()=>!!t.label)),n({focus:U,blur:te}),(o,b)=>(c(),R("div",{class:me([s(a).b(),s(a).m(s(E)),s(a).is("disabled",s(C)),s(a).is("without-controls",!o.controls),s(a).is("controls-right",s(D))]),onDragstart:b[0]||(b[0]=le(()=>{},["prevent"]))},[o.controls?Se((c(),R("span",{key:0,role:"button","aria-label":s(i)("el.inputNumber.decrease"),class:me([s(a).e("decrease"),s(a).is("disabled",s(V))]),onKeydown:ie(z,["enter"])},[Ve(o.$slots,"decrease-icon",{},()=>[e(s(ge),null,{default:l(()=>[s(D)?(c(),g(s(ll),{key:0})):(c(),g(s(Ce),{key:1}))]),_:1})])],42,Il)),[[s(De),z]]):W("v-if",!0),o.controls?Se((c(),R("span",{key:1,role:"button","aria-label":s(i)("el.inputNumber.increase"),class:me([s(a).e("increase"),s(a).is("disabled",s(d))]),onKeydown:ie(G,["enter"])},[Ve(o.$slots,"increase-icon",{},()=>[e(s(ge),null,{default:l(()=>[s(D)?(c(),g(s(ol),{key:0})):(c(),g(s(fe),{key:1}))]),_:1})])],42,hl)),[[s(De),G]]):W("v-if",!0),e(s(oe),{id:o.id,ref_key:"input",ref:_,type:"number",step:o.step,"model-value":s(h),placeholder:o.placeholder,readonly:o.readonly,disabled:s(C),size:s(E),max:o.max,min:o.min,name:o.name,"aria-label":o.label||o.ariaLabel,"validate-event":!1,onKeydown:[ie(le(G,["prevent"]),["up"]),ie(le(z,["prevent"]),["down"])],onBlur:ve,onFocus:O,onInput:w,onChange:T},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Ul=Ke(wl,[["__file","input-number.vue"]]);const We=Le(Ul),El=Fe({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:nl,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Nl=S({name:"ElText"}),Tl=S({...Nl,props:El,setup(f){const n=f,r=Me(),t=ze("text"),i=Q(()=>[t.b(),t.m(n.type),t.m(r.value),t.is("truncated",n.truncated),t.is("line-clamp",!ne(n.lineClamp))]);return(a,_)=>(c(),g(rl(a.tag),{class:me(s(i)),style:ul({"-webkit-line-clamp":a.lineClamp})},{default:l(()=>[Ve(a.$slots,"default")]),_:3},8,["class","style"]))}});var kl=Ke(Tl,[["__file","text.vue"]]);const $l=Le(kl),Al={class:"form-config"},Sl={class:"use-other-operate-form"},Ol={class:"my-label"},Dl={class:"just-config"},Fl=S({__name:"FormConfig",props:Ie({id:{}},{modelValue:{default:()=>({})},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const n=f,r=_e(f,"modelValue"),t=re(!1),i=Q(()=>{var D,E;const{activeDesignData:u}=sl(),p=(D=u.options)==null?void 0:D.tableOperations,V=(E=u.options)==null?void 0:E.tableColumnOperations,d=p==null?void 0:p.filter(C=>{var h,I;return!((h=C.formConfig)!=null&&h.useOtherForm)&&((I=C.formConfig)==null?void 0:I.data)}),m=V==null?void 0:V.filter(C=>{var h,I;return!((h=C.formConfig)!=null&&h.useOtherForm)&&((I=C.formConfig)==null?void 0:I.data)});return[...d??[],...m??[]].filter(C=>C.id!==n.id).map(C=>({label:`${C.label}表单`,value:C.value}))}),a=re(),_=()=>{var p;const u=(p=a.value)==null?void 0:p.getFormDesignData();r.value={...r.value,data:u},t.value=!1};return(u,p)=>{var I,K;const V=ge,d=ml,m=ce,D=be,E=$l,C=we,h=fl;return c(),R(x,null,[Z("div",Al,[Z("div",Sl,[Z("div",Ol,[p[4]||(p[4]=y(" 使用其他表单 ")),e(d,{content:"仅限于当前表格的其他操作表单",placement:"top",effect:"dark"},{default:l(()=>[e(V,{color:"#ffae1f"},{default:l(()=>[e(s(pl))]),_:1})]),_:1})]),e(D,{modelValue:r.value.useOtherForm,"onUpdate:modelValue":p[0]||(p[0]=N=>r.value.useOtherForm=N),placeholder:"请选择",clearable:"",filterable:""},{default:l(()=>[(c(!0),R(x,null,ee(s(i),N=>(c(),g(m,{key:N.value,label:N.label,value:N.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),Z("div",Dl,[(I=r.value.data)!=null&&I.widgetList.length?(c(),g(E,{key:0,type:(K=r.value.data)!=null&&K.form.name?"":"info"},{default:l(()=>{var N;return[y(he(((N=r.value.data)==null?void 0:N.form.name)??"未命名的表单"),1)]}),_:1},8,["type"])):(c(),g(E,{key:1,type:"info"},{default:l(()=>p[5]||(p[5]=[y("暂未配置")])),_:1})),e(C,{type:"primary",link:"",onClick:p[1]||(p[1]=N=>t.value=!0)},{default:l(()=>[p[6]||(p[6]=y(" 去配置 ")),e(V,null,{default:l(()=>[e(s(il))]),_:1})]),_:1})])]),e(h,{title:"表单配置",modelValue:s(t),"onUpdate:modelValue":p[3]||(p[3]=N=>Pe(t)?t.value=N:null),fullscreen:"",class:"form-config"},{footer:l(()=>[e(C,{onClick:p[2]||(p[2]=N=>t.value=!1)},{default:l(()=>p[7]||(p[7]=[y("取消")])),_:1}),e(C,{type:"primary",onClick:_},{default:l(()=>p[8]||(p[8]=[y("确定")])),_:1})]),default:l(()=>[e(s(dl),{ref_key:"VsFormDesignerRef",ref:a,height:"100%"},null,512)]),_:1},8,["modelValue"])],64)}}}),Rl=Ue(Fl,[["__scopeId","data-v-5dd99470"]]),zl={class:"operations-config"},Ml={class:"header"},Kl={class:"label"},Ll={key:1,class:"nodata"},Bl=S({__name:"OperationsConfig",props:Ie({formItemProp:{default:()=>[]}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const n=_e(f,"modelValue"),r=re(1),t=a=>{n.value.splice(a,1)},i=()=>{n.value.push({id:ye(5),apiConfig:{params:[]},echoApiConfig:{params:[]},formConfig:{}}),r.value=n.value.length};return(a,_)=>{const u=we,p=F,V=oe,d=L,m=$e,D=ce,E=be,C=J,h=X,I=F,K=Ee,N=Te,G=Rl,z=ke,M=He,B=Be;return c(),R("div",zl,[n.value.length?(c(),g(B,{key:0,modelValue:s(r),"onUpdate:modelValue":_[0]||(_[0]=w=>Pe(r)?r.value=w:null),accordion:""},{default:l(()=>[(c(!0),R(x,null,ee(n.value,(w,T)=>(c(),g(M,{key:"item"+T,name:T+1},{title:l(()=>[Z("div",Ml,[_[1]||(_[1]=y(" 操作 - ")),Z("span",Kl,he(w.label),1)]),e(u,{type:"danger",icon:s(Ce),circle:"",size:"small",onClick:le(U=>t(T),["stop"]),style:{"margin-right":"10px"}},null,8,["icon","onClick"])]),default:l(()=>[e(z,{gutter:s(Ne)},{default:l(()=>[e(m,null,{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","label"],rules:[{required:!0,message:"必填项"}]},{label:l(()=>[e(p,{label:"操作名称"})]),default:l(()=>[e(V,{modelValue:w.label,"onUpdate:modelValue":U=>w.label=U,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(m,null,{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","value"],rules:[{required:!0,message:"必填项"}]},{label:l(()=>[e(p,{label:"操作Key","tooltip-content":"确保操作Key的唯一性"})]),default:l(()=>[e(V,{modelValue:w.value,"onUpdate:modelValue":U=>w.value=U,placeholder:"例：add, batch_deletion",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(m,null,{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","code"]},{label:l(()=>[e(p,{label:"权限标识符"})]),default:l(()=>[e(V,{modelValue:w.code,"onUpdate:modelValue":U=>w.code=U,placeholder:"例：add, edit, delete",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(m,null,{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","type"]},{label:l(()=>[e(p,{label:"操作按钮类型"})]),default:l(()=>[e(E,{modelValue:w.type,"onUpdate:modelValue":U=>w.type=U,placeholder:"请选择",clearable:""},{default:l(()=>[(c(),R(x,null,ee(["primary","success","warning","danger","info"],U=>e(D,{key:U,label:U,value:U},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(m,null,{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","enableConfirmation"]},{label:l(()=>[e(p,{label:"开启二次确认"})]),default:l(()=>[e(h,{modelValue:w.enableConfirmation,"onUpdate:modelValue":U=>w.enableConfirmation=U},{default:l(()=>[e(C,{label:!0},{default:l(()=>_[2]||(_[2]=[y("是")])),_:1}),e(C,{label:!1},{default:l(()=>_[3]||(_[3]=[y("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(N,{span:24},{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","apiConfig"]},{label:l(()=>[e(I,{label:"操作接口配置"})]),default:l(()=>[e(K,{modelValue:n.value[T].apiConfig,"onUpdate:modelValue":U=>n.value[T].apiConfig=U,"form-item-prop":[...a.formItemProp,T+"","apiConfig"]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024),e(N,{span:24},{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","formConfig"]},{label:l(()=>[e(p,{label:"表单配置","tooltip-content":"操作需要提交表单时配置，和回显接口配置配合使用，例如编辑操作"})]),default:l(()=>[e(G,{modelValue:w.formConfig,"onUpdate:modelValue":U=>w.formConfig=U,id:w.id},null,8,["modelValue","onUpdate:modelValue","id"])]),_:2},1032,["prop"])]),_:2},1024),e(N,{span:24,style:{"margin-top":"12px"}},{default:l(()=>[e(d,{prop:[...a.formItemProp,T+"","echoApiConfig"]},{label:l(()=>[e(I,{label:"回显接口配置"})]),default:l(()=>[e(K,{modelValue:n.value[T].echoApiConfig,"onUpdate:modelValue":U=>n.value[T].echoApiConfig=U,"form-item-prop":[...a.formItemProp,T+"","echoApiConfig"]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024)]),_:2},1032,["gutter"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):W("",!0),n.value.length?W("",!0):(c(),R("div",Ll,"暂未配置")),e(u,{type:"primary",icon:s(fe),onClick:i,style:{width:"100%","margin-top":"10px"}},{default:l(()=>_[4]||(_[4]=[y(" 新增操作 ")])),_:1},8,["icon"])])}}}),Hl=Ue(Bl,[["__scopeId","data-v-36ec3620"]]),Wl=[{label:"左侧",value:"left"},{label:"右侧",value:"right"}],Gl=[{label:"静态数据转换",value:"static_data_transform"},{label:"动态数据转换",value:"dynamic_data_transform"},{label:"日期格式化",value:"date_format"}],ql={class:"table-column-config"},Yl={class:"header"},jl={class:"label"},Jl={key:1,class:"nodata"},Xl=S({__name:"TableColumnConfig",props:Ie({root:{type:Boolean},formItemProp:{},label:{}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(f){var V;const n=_e(f,"modelValue"),r=re((V=cl(n.value))==null?void 0:V.id);function t(){var d,m;(d=n.value)==null||d.push({id:ye(5),apiConfig:{params:[]}}),r.value=(m=bl(n.value))==null?void 0:m.id}function i(d){d.tableColumnItems||(d.tableColumnItems=[]),d.tableColumnItems.push({id:ye(5)})}function a(d){n.value.splice(d,1),n.value.length&&(n.value[d]?r.value=n.value[d].id:r.value=n.value[d-1].id)}function _(d,m){m.api=void 0,m.apiConfig=void 0,m.apiParams=void 0,m.staticDataKey=void 0,m.format=void 0,m.isTreeData=void 0,d==="dynamic_data_transform"?m.apiConfig={params:[]}:d==="date_format"&&(m.format="yyyy-MM-dd HH:mm:ss")}function u(d,m){return Array.isArray(m)?[...m,d+""]:[d+""]}function p(d,m){return m?`${m} / ${d??""}`:`${d??""}`}return(d,m)=>{const D=we,E=F,C=oe,h=L,I=$e,K=We,N=ce,G=be,z=J,M=X,B=F,w=Ee,T=Te,U=ke,te=_l("TableColumnConfig",!0),O=He,ve=Be;return c(),R("div",ql,[n.value.length?(c(),g(ve,{key:0,modelValue:s(r),"onUpdate:modelValue":m[0]||(m[0]=v=>Pe(r)?r.value=v:null),accordion:""},{default:l(()=>[(c(!0),R(x,null,ee(n.value,(v,k)=>(c(),g(O,{key:v.id,name:v.id},{title:l(()=>[Z("div",Yl,[m[1]||(m[1]=y(" 表列 - ")),Z("span",jl,he(p(v.label,d.label)),1)]),e(D,{type:"danger",icon:s(Ce),circle:"",size:"small",onClick:le(o=>a(k),["stop"])},null,8,["icon","onClick"]),e(D,{type:"primary",icon:s(fe),circle:"",size:"small",style:{"margin-right":"10px"},onClick:le(o=>i(v),["stop"])},null,8,["icon","onClick"])]),default:l(()=>[e(U,{gutter:s(Ne)},{default:l(()=>[e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"label"]},{label:l(()=>[e(E,{label:"列名称"})]),default:l(()=>[e(C,{modelValue:v.label,"onUpdate:modelValue":o=>v.label=o,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"prop"]},{label:l(()=>[e(E,{label:"字段名称"})]),default:l(()=>[e(C,{modelValue:v.prop,"onUpdate:modelValue":o=>v.prop=o,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"width"]},{label:l(()=>[e(E,{label:"列宽度"})]),default:l(()=>[e(K,{modelValue:v.width,"onUpdate:modelValue":o=>v.width=o,placeholder:"请输入",min:50,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"minWidth"]},{label:l(()=>[e(E,{label:"列最小宽度","tooltip-content":"该设置会把剩余宽度按比例分配给设置了该属性的列"})]),default:l(()=>[e(K,{modelValue:v.minWidth,"onUpdate:modelValue":o=>v.minWidth=o,placeholder:"请输入",min:50,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"fixed"]},{label:l(()=>[e(E,{label:"固定列"})]),default:l(()=>[e(G,{modelValue:v.fixed,"onUpdate:modelValue":o=>v.fixed=o,placeholder:"请选择",clearable:""},{default:l(()=>[(c(!0),R(x,null,ee(s(Wl),o=>(c(),g(N,{key:o.value,label:`${o.value}-${o.label}`,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"showOverflowTooltip"]},{label:l(()=>[e(E,{label:"内容超长tooltip"})]),default:l(()=>[e(M,{modelValue:v.showOverflowTooltip,"onUpdate:modelValue":o=>v.showOverflowTooltip=o},{default:l(()=>[e(z,{label:!0},{default:l(()=>m[2]||(m[2]=[y("是")])),_:1}),e(z,{label:!1},{default:l(()=>m[3]||(m[3]=[y("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"sortable"]},{label:l(()=>[e(E,{label:"开启排序"})]),default:l(()=>[e(M,{modelValue:v.sortable,"onUpdate:modelValue":o=>v.sortable=o},{default:l(()=>[e(z,{label:!0},{default:l(()=>m[4]||(m[4]=[y("是")])),_:1}),e(z,{label:!1},{default:l(()=>m[5]||(m[5]=[y("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(I,null,{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"formatterType"]},{label:l(()=>[e(E,{label:"数据回显类型","tooltip-content":"数据回显时的转换规则或格式化类型"})]),default:l(()=>[e(G,{modelValue:v.formatterType,"onUpdate:modelValue":o=>v.formatterType=o,placeholder:"请选择",clearable:"",onChange:o=>_(o,v)},{default:l(()=>[(c(!0),R(x,null,ee(s(Gl),o=>(c(),g(N,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["prop"])]),_:2},1024),v.formatterType==="dynamic_data_transform"?(c(),g(I,{key:0},{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"isTreeData"]},{label:l(()=>[e(E,{label:"是否树形数据"})]),default:l(()=>[e(M,{modelValue:v.isTreeData,"onUpdate:modelValue":o=>v.isTreeData=o},{default:l(()=>[e(z,{label:!0},{default:l(()=>m[6]||(m[6]=[y("是")])),_:1}),e(z,{label:!1},{default:l(()=>m[7]||(m[7]=[y("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):W("",!0),v.formatterType==="static_data_transform"?(c(),g(I,{key:1},{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"staticDataKey"]},{label:l(()=>[e(E,{label:"静态数据Key","tooltip-content":"关联当前view的静态数据Key配置"})]),default:l(()=>[e(C,{modelValue:v.staticDataKey,"onUpdate:modelValue":o=>v.staticDataKey=o,placeholder:"例：STATIC_DATA_KEY",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):W("",!0),v.formatterType==="date_format"?(c(),g(I,{key:2},{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp),"format"]},{label:l(()=>[e(E,{label:"格式化日期"})]),default:l(()=>[e(C,{modelValue:v.format,"onUpdate:modelValue":o=>v.format=o,placeholder:"yyyy-MM-dd HH:mm:ss",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):W("",!0),v.formatterType==="dynamic_data_transform"?(c(),g(T,{key:3,span:24},{default:l(()=>[e(h,{prop:[...u(k,d.formItemProp)]},{label:l(()=>[e(B,{label:"动态数据回显接口配置"})]),default:l(()=>[e(w,{modelValue:n.value[k].apiConfig,"onUpdate:modelValue":o=>n.value[k].apiConfig=o,"form-item-prop":[...u(k,d.formItemProp)]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024)):W("",!0)]),_:2},1032,["gutter"]),e(h,{prop:[...u(k,d.formItemProp)]},{label:l(()=>[e(B,{label:"子表列配置"})]),default:l(()=>[e(te,{root:!1,modelValue:v.tableColumnItems,"onUpdate:modelValue":o=>v.tableColumnItems=o,"form-item-prop":u(k,d.formItemProp),label:p(v.label,d.label),"is-sub-level":""},null,8,["modelValue","onUpdate:modelValue","form-item-prop","label"])]),_:2},1032,["prop"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):W("",!0),n.value.length?W("",!0):(c(),R("div",Jl,"暂未配置")),d.root?(c(),g(D,{key:2,type:"primary",icon:s(fe),onClick:t,style:{width:"100%","margin-top":"10px"}},{default:l(()=>m[8]||(m[8]=[y(" 新增表列 ")])),_:1},8,["icon"])):W("",!0)])}}}),Ql=Ue(Xl,[["__scopeId","data-v-c7e5bc6a"]]),Zl=S({__name:"flexible-editor",props:{options:{},label:{default:"主轴弹性"},formItemProp:{default:()=>["options","flexible"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=J,u=X,p=L;return c(),g(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(r).flexible,"onUpdate:modelValue":i[0]||(i[0]=V=>s(r).flexible=V)},{default:l(()=>[e(_,{label:!0},{default:l(()=>i[1]||(i[1]=[y("是")])),_:1}),e(_,{label:!1},{default:l(()=>i[2]||(i[2]=[y("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),xl=S({__name:"show-pagination-editor",props:{options:{},label:{default:"显示分页"},formItemProp:{default:()=>["options","showPagination"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=J,u=X,p=L;return c(),g(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(r).showPagination,"onUpdate:modelValue":i[0]||(i[0]=V=>s(r).showPagination=V)},{default:l(()=>[e(_,{label:!0},{default:l(()=>i[1]||(i[1]=[y("是")])),_:1}),e(_,{label:!1},{default:l(()=>i[2]||(i[2]=[y("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),eo=S({__name:"highlight-current-row-editor",props:{options:{},label:{default:"高亮当前行"},formItemProp:{default:()=>["options","highlightCurrentRow"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=J,u=X,p=L;return c(),g(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(r).highlightCurrentRow,"onUpdate:modelValue":i[0]||(i[0]=V=>s(r).highlightCurrentRow=V)},{default:l(()=>[e(_,{label:!0},{default:l(()=>i[1]||(i[1]=[y("是")])),_:1}),e(_,{label:!1},{default:l(()=>i[2]||(i[2]=[y("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),lo=S({__name:"auto-calc-max-height-editor",props:{options:{},label:{default:"自动计算最大高度"},formItemProp:{default:()=>["options","autoCalcMaxHeight"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=J,u=X,p=L;return c(),g(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(r).autoCalcMaxHeight,"onUpdate:modelValue":i[0]||(i[0]=V=>s(r).autoCalcMaxHeight=V)},{default:l(()=>[e(_,{label:!0},{default:l(()=>i[1]||(i[1]=[y("是")])),_:1}),e(_,{label:!1},{default:l(()=>i[2]||(i[2]=[y("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),oo=S({__name:"virtualized-editor",props:{options:{},label:{default:"虚拟化表格"},formItemProp:{default:()=>["options","virtualized"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=J,u=X,p=L;return c(),g(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(r).virtualized,"onUpdate:modelValue":i[0]||(i[0]=V=>s(r).virtualized=V)},{default:l(()=>[e(_,{label:!0},{default:l(()=>i[1]||(i[1]=[y("是")])),_:1}),e(_,{label:!1},{default:l(()=>i[2]||(i[2]=[y("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),to=S({__name:"lazy-editor",props:{options:{},label:{default:"懒加载子节点数据"},formItemProp:{default:()=>["options","lazy"]},formItemRules:{}},emits:["change"],setup(f){const r=q(f,"options");function t(i,a){i||(a.loadApiMethod="GET",a.loadApi=void 0,a.loadApiParams=void 0)}return(i,a)=>{const _=F,u=J,p=X,V=L;return c(),g(V,{prop:i.formItemProp},{label:l(()=>[e(_,{label:i.label},null,8,["label"])]),default:l(()=>[e(p,{modelValue:s(r).lazy,"onUpdate:modelValue":a[0]||(a[0]=d=>s(r).lazy=d),onChange:a[1]||(a[1]=d=>t(d,s(r)))},{default:l(()=>[e(u,{label:!0},{default:l(()=>a[2]||(a[2]=[y("是")])),_:1}),e(u,{label:!1},{default:l(()=>a[3]||(a[3]=[y("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),ao=S({__name:"row-key-editor",props:{options:{},label:{default:"行数据Key"},formItemProp:{default:()=>["options","rowKey"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=oe,u=L;return c(),g(u,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label,"tooltip-content":"用来优化 Table 的渲染，显示树形数据时，该属性是必填的"},null,8,["label"])]),default:l(()=>[e(_,{modelValue:s(r).rowKey,"onUpdate:modelValue":i[0]||(i[0]=p=>s(r).rowKey=p),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),no=S({__name:"item-children-editor",props:{options:{},label:{default:"children别名"},formItemProp:{default:()=>["options","itemChildren"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=oe,u=L;return c(),g(u,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label,"tooltip-content":"渲染嵌套数据时的子节点 key 别名"},null,8,["label"])]),default:l(()=>[e(_,{modelValue:s(r).itemChildren,"onUpdate:modelValue":i[0]||(i[0]=p=>s(r).itemChildren=p),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),uo=S({__name:"item-has-children-editor",props:{options:{},label:{default:"hasChildren别名"},formItemProp:{default:()=>["options","itemHasChildren"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=oe,u=L;return c(),g(u,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label,"tooltip-content":"渲染嵌套数据时，指定 row 中的 hasChildren 字段来指定哪些行是包含子节点"},null,8,["label"])]),default:l(()=>[e(_,{modelValue:s(r).itemHasChildren,"onUpdate:modelValue":i[0]||(i[0]=p=>s(r).itemHasChildren=p),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),ro=[{label:"固定",value:"fixed"},{label:"自动",value:"auto"}],so=S({__name:"table-layout-editor",props:{options:{},label:{default:"表格的布局方式"},formItemProp:{default:()=>["options","tableLayout"]},formItemRules:{}},setup(f){const r=q(f,"options");return(t,i)=>{const a=F,_=ce,u=be,p=L;return c(),g(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(r).tableLayout,"onUpdate:modelValue":i[0]||(i[0]=V=>s(r).tableLayout=V),placeholder:"请选择",clearable:""},{default:l(()=>[(c(!0),R(x,null,ee(s(ro),V=>(c(),g(_,{key:V.value,label:`${V.label} - ${V.value}`,value:V.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),co=S({__name:"d-table",props:{modelValue:{default:()=>({options:{}})},modelModifiers:{}},emits:["update:modelValue"],setup(f){const n=_e(f,"modelValue");return(r,t)=>{const i=vl,a=$e,_=so,u=uo,p=no,V=ao,d=We,m=L,D=to,E=oo,C=lo,h=F,I=J,K=X,N=eo,G=xl,z=Zl,M=F,B=Ee,w=Te,T=Hl,U=Ql,te=ke;return c(),g(te,{gutter:s(Ne)},{default:l(()=>[e(a,null,{default:l(()=>[e(i,{"form-data":n.value},null,8,["form-data"])]),_:1}),e(a,null,{default:l(()=>[e(_,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(u,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(p,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(V,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(m,{label:"操作列宽度",prop:["options","operateColumnWidth"]},{default:l(()=>[e(d,{modelValue:n.value.options.operateColumnWidth,"onUpdate:modelValue":t[0]||(t[0]=O=>n.value.options.operateColumnWidth=O),placeholder:"请输入",min:100,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(D,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(E,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(C,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(m,{prop:["options","showSelection"]},{label:l(()=>[e(h,{label:"显示多选框"})]),default:l(()=>[e(K,{modelValue:n.value.options.showSelection,"onUpdate:modelValue":t[1]||(t[1]=O=>n.value.options.showSelection=O)},{default:l(()=>[e(I,{label:!0},{default:l(()=>t[7]||(t[7]=[y("是")])),_:1}),e(I,{label:!1},{default:l(()=>t[8]||(t[8]=[y("否")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(N,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(G,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(z,{options:n.value.options},null,8,["options"])]),_:1}),e(w,{span:24},{default:l(()=>[e(m,{prop:"options.apiConfig"},{label:l(()=>[e(M,{label:"列表接口配置"})]),default:l(()=>[e(B,{modelValue:n.value.options.apiConfig,"onUpdate:modelValue":t[2]||(t[2]=O=>n.value.options.apiConfig=O),"form-item-prop":["options","apiConfig"]},null,8,["modelValue"])]),_:1})]),_:1}),n.value.options.lazy?(c(),g(w,{key:0,span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(m,{prop:"options.lazyApiConfig"},{label:l(()=>[e(M,{label:"懒加载子节点接口配置"})]),default:l(()=>[e(B,{modelValue:n.value.options.lazyApiConfig,"onUpdate:modelValue":t[3]||(t[3]=O=>n.value.options.lazyApiConfig=O),"form-item-prop":["options","lazyApiConfig"]},null,8,["modelValue"])]),_:1})]),_:1})):W("",!0),e(w,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(m,{prop:"options.tableOperations"},{label:l(()=>[e(M,{label:"表格操作配置"})]),default:l(()=>[e(T,{modelValue:n.value.options.tableOperations,"onUpdate:modelValue":t[4]||(t[4]=O=>n.value.options.tableOperations=O),"form-item-prop":["options","tableOperations"]},null,8,["modelValue"])]),_:1})]),_:1}),e(w,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(m,{prop:"options.tableColumnItems"},{label:l(()=>[e(M,{label:"表列配置"})]),default:l(()=>[e(U,{modelValue:n.value.options.tableColumnItems,"onUpdate:modelValue":t[5]||(t[5]=O=>n.value.options.tableColumnItems=O),root:"","form-item-prop":["options","tableColumnItems"]},null,8,["modelValue"])]),_:1})]),_:1}),e(w,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(m,{prop:"options.tableColumnOperations"},{label:l(()=>[e(M,{label:"表列操作配置"})]),default:l(()=>[e(T,{modelValue:n.value.options.tableColumnOperations,"onUpdate:modelValue":t[6]||(t[6]=O=>n.value.options.tableColumnOperations=O),"form-item-prop":["options","tableColumnOperations"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["gutter"])}}});export{co as default};
