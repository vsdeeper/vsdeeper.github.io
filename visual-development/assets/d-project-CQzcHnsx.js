import{d as C,y as U,o as m,a as v,b as i,e,E as A,_ as w,r as B,c as g,w as o,F as D,A as h,u as r,B as $,C as y,z as E,D as I,G as x,t as M,H as G,I as N,J as R,K as z}from"./index-BtQArEjb.js";import{R as T,E as F,_ as P,a as j}from"./constants-DqKDH1Bg.js";import{E as L,_ as q,a as H}from"./ApiConfig-Jd6uktsc.js";const J={class:"api-domain"},K={class:"item"},O={class:"item"},S={class:"item"},W=C({__name:"ApiDomain",props:{modelValue:{default:()=>({})},modelModifiers:{}},emits:["update:modelValue"],setup(f){const l=U(f,"modelValue");return(d,t)=>{const a=A;return m(),v("div",J,[i("div",K,[t[3]||(t[3]=i("label",null,"开发环境",-1)),i("div",null,[e(a,{modelValue:l.value.dev,"onUpdate:modelValue":t[0]||(t[0]=p=>l.value.dev=p),placeholder:"例：https://api.github.com",clearable:""},null,8,["modelValue"])])]),i("div",O,[t[4]||(t[4]=i("label",null,"测试环境",-1)),i("div",null,[e(a,{modelValue:l.value.test,"onUpdate:modelValue":t[1]||(t[1]=p=>l.value.test=p),placeholder:"例：https://api.github.com",clearable:""},null,8,["modelValue"])])]),i("div",S,[t[5]||(t[5]=i("label",null,"生产环境",-1)),i("div",null,[e(a,{modelValue:l.value.prod,"onUpdate:modelValue":t[2]||(t[2]=p=>l.value.prod=p),placeholder:"例：https://api.github.com",clearable:""},null,8,["modelValue"])])])])}}}),Q=w(W,[["__scopeId","data-v-4d80c2a1"]]),X={class:"global-api-config"},Y={class:"header"},Z={class:"label"},ee={key:1,class:"nodata"},le=C({__name:"GlobalApiConfig",props:{modelValue:{default:()=>[]},modelModifiers:{}},emits:["update:modelValue"],setup(f){const l=U(f,"modelValue"),d=B(1);function t(){l.value.push({params:[]}),d.value=l.value.length}const a=p=>{l.value.splice(p,1)};return(p,s)=>{const u=x,c=q,V=H,n=L;return m(),v("div",X,[l.value.length?(m(),g(n,{key:0,modelValue:r(d),"onUpdate:modelValue":s[0]||(s[0]=b=>$(d)?d.value=b:null),accordion:""},{default:o(()=>[(m(!0),v(D,null,h(l.value,(b,_)=>(m(),g(V,{key:"item"+_,name:_+1},{title:o(()=>[i("div",Y,[s[1]||(s[1]=E(" 接口配置 - ")),i("span",Z,M(b.name),1)]),e(u,{type:"danger",icon:r(G),circle:"",size:"small",onClick:N(k=>a(_),["stop"]),style:{"margin-right":"10px"}},null,8,["icon","onClick"])]),default:o(()=>[e(c,{modelValue:l.value[_],"onUpdate:modelValue":k=>l.value[_]=k,"form-item-prop":["options","globalApiConfig",_+""]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):y("",!0),l.value.length?y("",!0):(m(),v("div",ee,"暂无配置")),e(u,{type:"primary",icon:r(I),onClick:t,style:{width:"100%","margin-top":"10px"}},{default:o(()=>s[2]||(s[2]=[E(" 新增接口配置 ")])),_:1},8,["icon"])])}}}),oe=w(le,[["__scopeId","data-v-99c3be0a"]]),pe=C({__name:"d-project",props:{modelValue:{default:()=>({options:{}})},modelModifiers:{}},emits:["update:modelValue"],setup(f){const l=U(f,"modelValue");function d(t){switch(t){case"npmrc":window.open("https://docs.npmjs.com/cli/v8/configuring-npm/npmrc","_blank");break}}return(t,a)=>{const p=A,s=z,u=F,c=P,V=j;return m(),g(V,{gutter:r(T)},{default:o(()=>[e(u,{span:24},{default:o(()=>[e(s,{label:"项目名称",prop:"options.name",rules:[{required:!0,message:"必填项"}]},{default:o(()=>[e(p,{modelValue:l.value.options.name,"onUpdate:modelValue":a[0]||(a[0]=n=>l.value.options.name=n),placeholder:"例：vswift-admin",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(s,{label:"git地址",prop:"options.gitUrl"},{default:o(()=>[e(p,{modelValue:l.value.options.gitUrl,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value.options.gitUrl=n),placeholder:"例：https://github.com/vsdeeper/visual-development.git",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(s,{prop:"options.apiDomain"},{label:o(()=>[e(c,{label:"api域名","tooltip-content":"不配置则表示与页面域名一致"})]),default:o(()=>[e(r(Q),{modelValue:l.value.options.apiDomain,"onUpdate:modelValue":a[2]||(a[2]=n=>l.value.options.apiDomain=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(s,{prop:"options.apiBasePath"},{label:o(()=>[e(c,{label:"api基础路径","tooltip-content":"将拼接在api域名后面"})]),default:o(()=>[e(p,{modelValue:l.value.options.apiBasePath,"onUpdate:modelValue":a[3]||(a[3]=n=>l.value.options.apiBasePath=n),placeholder:"例：/api",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(s,{prop:"options.npmrc"},{label:o(()=>[e(c,{label:".npmrc配置","tooltip-content":"查看配置说明","tooltip-icon":r(R),"tooltip-icon-color":"#409eff","tooltip-icon-link":"",onClickTooltipIcon:a[4]||(a[4]=n=>d("npmrc"))},null,8,["tooltip-icon"])]),default:o(()=>[e(p,{modelValue:l.value.options.npmrc,"onUpdate:modelValue":a[5]||(a[5]=n=>l.value.options.npmrc=n),type:"textarea",autosize:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(s,{prop:"options.globalApiConfig"},{label:o(()=>[e(c,{label:"全局接口配置"})]),default:o(()=>[e(r(oe),{modelValue:l.value.options.globalApiConfig,"onUpdate:modelValue":a[6]||(a[6]=n=>l.value.options.globalApiConfig=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(s,{label:"项目描述",prop:"options.description"},{default:o(()=>[e(p,{modelValue:l.value.options.description,"onUpdate:modelValue":a[7]||(a[7]=n=>l.value.options.description=n),type:"textarea",autosize:"",placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["gutter"])}}});export{pe as default};
