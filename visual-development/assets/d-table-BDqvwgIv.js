import{ai as $e,O as Fe,aj as Ge,ab as G,ak as qe,al as ze,am as pe,an as ae,a8 as oe,d as M,ao as Ye,l as Re,r as ne,ad as je,ap as Xe,p as Y,a9 as te,aq as Me,ar as Je,W as Qe,a0 as Ze,a1 as xe,as as el,o as b,a as S,af as Oe,u as s,j as de,at as se,q as Ve,e,w as l,c as U,au as ll,H as Ce,a2 as ge,C as R,av as ol,D as ie,I as Q,E as Z,s as Ke,U as tl,aa as al,aw as Se,v as Le,ax as nl,n as ul,g as rl,ay as Ie,y as me,f as sl,b as J,z as I,az as pl,F as j,A as X,t as we,aA as dl,aB as il,B as Ue,aC as ml,G as Ee,aD as fl,_ as Ne,aE as ye,K as q,aF as _l,aG as x}from"./index-BtQArEjb.js";import{b as fe,d as _e,R as he,_ as H,E as Pe,a as Te,T as cl}from"./constants-DqKDH1Bg.js";import{E as Be,_ as ke,a as He}from"./ApiConfig-Jd6uktsc.js";import{_ as Ae}from"./responsive-col.vue_vue_type_script_setup_true_lang-Cl2uEEUS.js";import{E as ee,a as le,h as bl,l as vl,_ as Vl}from"./id-editor.vue_vue_type_script_setup_true_lang-cGvw8bhI.js";const gl=100,yl=600,De={beforeMount(_,n){const d=n.value,{interval:t=gl,delay:v=yl}=$e(d)?{}:d;let a,m;const u=()=>$e(d)?d():d.handler(),p=()=>{m&&(clearTimeout(m),m=void 0),a&&(clearInterval(a),a=void 0)};_.addEventListener("mousedown",y=>{y.button===0&&(p(),u(),document.addEventListener("mouseup",()=>p(),{once:!0}),m=setTimeout(()=>{a=setInterval(()=>{u()},t)},v))})}},Cl=Fe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ge,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:_=>_===null||G(_)||["min","max"].includes(_),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:_=>_>=0&&_===Number.parseInt(`${_}`,10)},validateEvent:{type:Boolean,default:!0},...qe(["ariaLabel"])}),Il={[ze]:(_,n)=>n!==_,blur:_=>_ instanceof FocusEvent,focus:_=>_ instanceof FocusEvent,[pe]:_=>G(_)||ae(_),[oe]:_=>G(_)||ae(_)},wl=["aria-label","onKeydown"],Ul=["aria-label","onKeydown"],El=M({name:"ElInputNumber"}),Nl=M({...El,props:Cl,emits:Il,setup(_,{expose:n,emit:d}){const t=_,{t:v}=Ye(),a=Re("input-number"),m=ne(),u=je({currentValue:t.modelValue,userInput:null}),{formItem:p}=Xe(),y=Y(()=>G(t.modelValue)&&t.modelValue<=t.min),r=Y(()=>G(t.modelValue)&&t.modelValue>=t.max),f=Y(()=>{const o=K(t.step);return te(t.precision)?Math.max(K(t.modelValue),o):(o>t.precision,t.precision)}),O=Y(()=>t.controls&&t.controlsPosition==="right"),h=Me(),V=Je(),C=Y(()=>{if(u.userInput!==null)return u.userInput;let o=u.currentValue;if(ae(o))return"";if(G(o)){if(Number.isNaN(o))return"";te(t.precision)||(o=o.toFixed(t.precision))}return o}),E=(o,c)=>{if(te(c)&&(c=f.value),c===0)return Math.round(o);let N=String(o);const $=N.indexOf(".");if($===-1||!N.replace(".","").split("")[$+c])return o;const ue=N.length;return N.charAt(ue-1)==="5"&&(N=`${N.slice(0,Math.max(0,ue-1))}6`),Number.parseFloat(Number(N).toFixed(c))},K=o=>{if(ae(o))return 0;const c=o.toString(),N=c.indexOf(".");let $=0;return N!==-1&&($=c.length-N-1),$},P=(o,c=1)=>G(o)?E(o+t.step*c):u.currentValue,D=()=>{if(t.readonly||V.value||r.value)return;const o=Number(C.value)||0,c=P(o);L(c),d(pe,u.currentValue),g()},F=()=>{if(t.readonly||V.value||y.value)return;const o=Number(C.value)||0,c=P(o,-1);L(c),d(pe,u.currentValue),g()},z=(o,c)=>{const{max:N,min:$,step:A,precision:W,stepStrictly:ue,valueOnClear:re}=t;N<$&&tl("InputNumber","min should not be greater than max.");let B=Number(o);if(ae(o)||Number.isNaN(B))return null;if(o===""){if(re===null)return null;B=al(re)?{min:$,max:N}[re]:re}return ue&&(B=E(Math.round(B/A)*A,W)),te(W)||(B=E(B,W)),(B>N||B<$)&&(B=B>N?N:$,c&&d(oe,B)),B},L=(o,c=!0)=>{var N;const $=u.currentValue,A=z(o);if(!c){d(oe,A);return}$===A&&o||(u.userInput=null,d(oe,A),$!==A&&d(ze,A,$),t.validateEvent&&((N=p==null?void 0:p.validate)==null||N.call(p,"change").catch(W=>Se())),u.currentValue=A)},w=o=>{u.userInput=o;const c=o===""?null:Number(o);d(pe,c),L(c,!1)},T=o=>{const c=o!==""?Number(o):"";(G(c)&&!Number.isNaN(c)||o==="")&&L(c),g(),u.userInput=null},i=()=>{var o,c;(c=(o=m.value)==null?void 0:o.focus)==null||c.call(o)},ce=()=>{var o,c;(c=(o=m.value)==null?void 0:o.blur)==null||c.call(o)},be=o=>{d("focus",o)},ve=o=>{var c;u.userInput=null,d("blur",o),t.validateEvent&&((c=p==null?void 0:p.validate)==null||c.call(p,"blur").catch(N=>Se()))},g=()=>{u.currentValue!==t.modelValue&&(u.currentValue=t.modelValue)},k=o=>{document.activeElement===o.target&&o.preventDefault()};return Qe(()=>t.modelValue,(o,c)=>{const N=z(o,!0);u.userInput===null&&N!==c&&(u.currentValue=N)},{immediate:!0}),Ze(()=>{var o;const{min:c,max:N,modelValue:$}=t,A=(o=m.value)==null?void 0:o.input;if(A.setAttribute("role","spinbutton"),Number.isFinite(N)?A.setAttribute("aria-valuemax",String(N)):A.removeAttribute("aria-valuemax"),Number.isFinite(c)?A.setAttribute("aria-valuemin",String(c)):A.removeAttribute("aria-valuemin"),A.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),A.setAttribute("aria-disabled",String(V.value)),!G($)&&$!=null){let W=Number($);Number.isNaN(W)&&(W=null),d(oe,W)}A.addEventListener("wheel",k,{passive:!1})}),xe(()=>{var o,c;const N=(o=m.value)==null?void 0:o.input;N==null||N.setAttribute("aria-valuenow",`${(c=u.currentValue)!=null?c:""}`)}),el({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},Y(()=>!!t.label)),n({focus:i,blur:ce}),(o,c)=>(b(),S("div",{class:de([s(a).b(),s(a).m(s(h)),s(a).is("disabled",s(V)),s(a).is("without-controls",!o.controls),s(a).is("controls-right",s(O))]),onDragstart:c[0]||(c[0]=Q(()=>{},["prevent"]))},[o.controls?Oe((b(),S("span",{key:0,role:"button","aria-label":s(v)("el.inputNumber.decrease"),class:de([s(a).e("decrease"),s(a).is("disabled",s(y))]),onKeydown:se(F,["enter"])},[Ve(o.$slots,"decrease-icon",{},()=>[e(s(ge),null,{default:l(()=>[s(O)?(b(),U(s(ll),{key:0})):(b(),U(s(Ce),{key:1}))]),_:1})])],42,wl)),[[s(De),F]]):R("v-if",!0),o.controls?Oe((b(),S("span",{key:1,role:"button","aria-label":s(v)("el.inputNumber.increase"),class:de([s(a).e("increase"),s(a).is("disabled",s(r))]),onKeydown:se(D,["enter"])},[Ve(o.$slots,"increase-icon",{},()=>[e(s(ge),null,{default:l(()=>[s(O)?(b(),U(s(ol),{key:0})):(b(),U(s(ie),{key:1}))]),_:1})])],42,Ul)),[[s(De),D]]):R("v-if",!0),e(s(Z),{id:o.id,ref_key:"input",ref:m,type:"number",step:o.step,"model-value":s(C),placeholder:o.placeholder,readonly:o.readonly,disabled:s(V),size:s(h),max:o.max,min:o.min,name:o.name,"aria-label":o.label||o.ariaLabel,"validate-event":!1,onKeydown:[se(Q(D,["prevent"]),["up"]),se(Q(F,["prevent"]),["down"])],onBlur:ve,onFocus:be,onInput:w,onChange:T},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var hl=Ke(Nl,[["__file","input-number.vue"]]);const We=Le(hl),Pl=Fe({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:nl,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Tl=M({name:"ElText"}),kl=M({...Tl,props:Pl,setup(_){const n=_,d=Me(),t=Re("text"),v=Y(()=>[t.b(),t.m(n.type),t.m(d.value),t.is("truncated",n.truncated),t.is("line-clamp",!te(n.lineClamp))]);return(a,m)=>(b(),U(rl(a.tag),{class:de(s(v)),style:ul({"-webkit-line-clamp":a.lineClamp})},{default:l(()=>[Ve(a.$slots,"default")]),_:3},8,["class","style"]))}});var Al=Ke(kl,[["__file","text.vue"]]);const $l=Le(Al),Ol={class:"form-config"},Sl={class:"use-other-operate-form"},Dl={class:"my-label"},Fl={class:"just-config"},zl=M({__name:"FormConfig",props:Ie({id:{}},{modelValue:{default:()=>({})},modelModifiers:{}}),emits:["update:modelValue"],setup(_){const n=_,d=me(_,"modelValue"),t=ne(!1),v=Y(()=>{var O,h;const{activeDesignData:u}=sl(),p=(O=u.options)==null?void 0:O.tableOperations,y=(h=u.options)==null?void 0:h.tableColumnOperations,r=p==null?void 0:p.filter(V=>{var C,E;return!((C=V.formConfig)!=null&&C.useOtherForm)&&((E=V.formConfig)==null?void 0:E.data)}),f=y==null?void 0:y.filter(V=>{var C,E;return!((C=V.formConfig)!=null&&C.useOtherForm)&&((E=V.formConfig)==null?void 0:E.data)});return[...r??[],...f??[]].filter(V=>V.id!==n.id).map(V=>({label:`${V.label}表单`,value:V.value}))}),a=ne(),m=()=>{var p;const u=(p=a.value)==null?void 0:p.getFormDesignData();d.value={...d.value,data:u},t.value=!1};return(u,p)=>{var E,K;const y=ge,r=ml,f=fe,O=_e,h=$l,V=Ee,C=fl;return b(),S(j,null,[J("div",Ol,[J("div",Sl,[J("div",Dl,[p[4]||(p[4]=I(" 使用其他表单 ")),e(r,{content:"仅限于当前表格的其他操作表单",placement:"top",effect:"dark"},{default:l(()=>[e(y,{color:"#ffae1f"},{default:l(()=>[e(s(pl))]),_:1})]),_:1})]),e(O,{modelValue:d.value.useOtherForm,"onUpdate:modelValue":p[0]||(p[0]=P=>d.value.useOtherForm=P),placeholder:"请选择",clearable:"",filterable:""},{default:l(()=>[(b(!0),S(j,null,X(s(v),P=>(b(),U(f,{key:P.value,label:P.label,value:P.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),J("div",Fl,[(E=d.value.data)!=null&&E.widgetList.length?(b(),U(h,{key:0,type:(K=d.value.data)!=null&&K.form.name?"":"info"},{default:l(()=>{var P;return[I(we(((P=d.value.data)==null?void 0:P.form.name)??"未命名的表单"),1)]}),_:1},8,["type"])):(b(),U(h,{key:1,type:"info"},{default:l(()=>p[5]||(p[5]=[I("暂未配置")])),_:1})),e(V,{type:"primary",link:"",onClick:p[1]||(p[1]=P=>t.value=!0)},{default:l(()=>[p[6]||(p[6]=I(" 去配置 ")),e(y,null,{default:l(()=>[e(s(dl))]),_:1})]),_:1})])]),e(C,{title:"表单配置",modelValue:s(t),"onUpdate:modelValue":p[3]||(p[3]=P=>Ue(t)?t.value=P:null),fullscreen:"",class:"form-config"},{footer:l(()=>[e(V,{onClick:p[2]||(p[2]=P=>t.value=!1)},{default:l(()=>p[7]||(p[7]=[I("取消")])),_:1}),e(V,{type:"primary",onClick:m},{default:l(()=>p[8]||(p[8]=[I("确定")])),_:1})]),default:l(()=>[e(s(il),{ref_key:"VsFormDesignerRef",ref:a,height:"100%"},null,512)]),_:1},8,["modelValue"])],64)}}}),Rl=Ne(zl,[["__scopeId","data-v-5dd99470"]]),Ml={class:"operations-config"},Kl={class:"header"},Ll={key:1,class:"nodata"},Bl=M({__name:"OperationsConfig",props:Ie({formItemProp:{default:()=>[]}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(_){const n=me(_,"modelValue"),d=ne(1),t=a=>{n.value.splice(a,1)},v=()=>{n.value.push({id:ye(5),apiConfig:{params:[]},echoApiConfig:{params:[]},formConfig:{}}),d.value=n.value.length};return(a,m)=>{const u=Ee,p=H,y=Z,r=q,f=Ae,O=fe,h=_e,V=ee,C=le,E=H,K=ke,P=Pe,D=Rl,F=Te,z=He,L=Be;return b(),S("div",Ml,[n.value.length?(b(),U(L,{key:0,modelValue:s(d),"onUpdate:modelValue":m[0]||(m[0]=w=>Ue(d)?d.value=w:null),accordion:""},{default:l(()=>[(b(!0),S(j,null,X(n.value,(w,T)=>(b(),U(z,{key:"item"+T,name:T+1},{title:l(()=>[J("div",Kl,"操作 - "+we(w.label),1),e(u,{type:"danger",icon:s(Ce),circle:"",size:"small",onClick:Q(i=>t(T),["stop"]),style:{"margin-right":"10px"}},null,8,["icon","onClick"])]),default:l(()=>[e(F,{gutter:s(he)},{default:l(()=>[e(f,null,{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","label"],rules:[{required:!0,message:"必填项"}]},{label:l(()=>[e(p,{label:"操作名称"})]),default:l(()=>[e(y,{modelValue:w.label,"onUpdate:modelValue":i=>w.label=i,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(f,null,{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","value"],rules:[{required:!0,message:"必填项"}]},{label:l(()=>[e(p,{label:"操作Key","tooltip-content":"确保操作Key的唯一性"})]),default:l(()=>[e(y,{modelValue:w.value,"onUpdate:modelValue":i=>w.value=i,placeholder:"例：add, batch_deletion",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(f,null,{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","code"]},{label:l(()=>[e(p,{label:"权限标识符"})]),default:l(()=>[e(y,{modelValue:w.code,"onUpdate:modelValue":i=>w.code=i,placeholder:"例：add, edit, delete",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(f,null,{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","type"]},{label:l(()=>[e(p,{label:"操作按钮类型"})]),default:l(()=>[e(h,{modelValue:w.type,"onUpdate:modelValue":i=>w.type=i,placeholder:"请选择",clearable:""},{default:l(()=>[(b(),S(j,null,X(["primary","success","warning","danger","info"],i=>e(O,{key:i,label:i,value:i},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(f,null,{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","enableConfirmation"]},{label:l(()=>[e(p,{label:"开启二次确认","tooltip-content":"开启二次确认默认为无表单操作"})]),default:l(()=>[e(C,{modelValue:w.enableConfirmation,"onUpdate:modelValue":i=>w.enableConfirmation=i},{default:l(()=>[e(V,{label:!0},{default:l(()=>m[1]||(m[1]=[I("是")])),_:1}),e(V,{label:!1},{default:l(()=>m[2]||(m[2]=[I("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(f,null,{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","isNeedEchoApi"]},{label:l(()=>[e(p,{label:"开启回显接口","tooltip-content":"行操作若无需回显接口，则按照行数据回显"})]),default:l(()=>[e(C,{modelValue:w.isNeedEchoApi,"onUpdate:modelValue":i=>w.isNeedEchoApi=i},{default:l(()=>[e(V,{label:!0},{default:l(()=>m[3]||(m[3]=[I("是")])),_:1}),e(V,{label:!1},{default:l(()=>m[4]||(m[4]=[I("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(P,{span:24},{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","apiConfig"]},{label:l(()=>[e(E,{label:"操作接口配置"})]),default:l(()=>[e(K,{modelValue:w.apiConfig,"onUpdate:modelValue":i=>w.apiConfig=i,"form-item-prop":[...a.formItemProp,T+"","apiConfig"]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024),w.enableConfirmation?R("",!0):(b(),U(P,{key:0,span:24},{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","formConfig"]},{label:l(()=>[e(p,{label:"表单配置","tooltip-content":"操作需要提交表单时配置，和回显接口配置配合使用，例如编辑操作"})]),default:l(()=>[e(D,{modelValue:w.formConfig,"onUpdate:modelValue":i=>w.formConfig=i,id:w.id},null,8,["modelValue","onUpdate:modelValue","id"])]),_:2},1032,["prop"])]),_:2},1024)),w.isNeedEchoApi?(b(),U(P,{key:1,span:24,style:{"margin-top":"12px"}},{default:l(()=>[e(r,{prop:[...a.formItemProp,T+"","echoApiConfig"]},{label:l(()=>[e(E,{label:"回显接口配置"})]),default:l(()=>[e(K,{modelValue:w.echoApiConfig,"onUpdate:modelValue":i=>w.echoApiConfig=i,"form-item-prop":[...a.formItemProp,T+"","echoApiConfig"]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0)]),_:2},1032,["gutter"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):R("",!0),n.value.length?R("",!0):(b(),S("div",Ll,"暂未配置")),e(u,{type:"primary",icon:s(ie),onClick:v,style:{width:"100%","margin-top":"10px"}},{default:l(()=>m[5]||(m[5]=[I(" 新增操作 ")])),_:1},8,["icon"])])}}}),Hl=Ne(Bl,[["__scopeId","data-v-bdf253bb"]]),Wl=[{label:"左侧",value:"left"},{label:"右侧",value:"right"}],Gl=[{label:"静态数据转换",value:"static_data_transform"},{label:"动态数据转换",value:"dynamic_data_transform"},{label:"日期格式化",value:"date_format"}],ql={class:"table-column-config"},Yl={class:"header"},jl={key:1,class:"nodata"},Xl=M({__name:"TableColumnConfig",props:Ie({root:{type:Boolean},formItemProp:{},label:{}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(_){var y;const n=me(_,"modelValue"),d=ne((y=bl(n.value))==null?void 0:y.id);function t(){var r,f;(r=n.value)==null||r.push({id:ye(5),apiConfig:{params:[]}}),d.value=(f=vl(n.value))==null?void 0:f.id}function v(r){r.tableColumnItems||(r.tableColumnItems=[]),r.tableColumnItems.push({id:ye(5)})}function a(r){n.value.splice(r,1),n.value.length&&(n.value[r]?d.value=n.value[r].id:d.value=n.value[r-1].id)}function m(r,f){f.api=void 0,f.apiConfig=void 0,f.apiParams=void 0,f.staticDataKey=void 0,f.format=void 0,f.isTreeData=void 0,r==="dynamic_data_transform"?f.apiConfig={params:[]}:r==="date_format"&&(f.format="yyyy-MM-dd HH:mm:ss")}function u(r,f){return Array.isArray(f)?[...f,r+""]:[r+""]}function p(r,f){return f?`${f} / ${r??""}`:`${r??""}`}return(r,f)=>{const O=Ee,h=H,V=Z,C=q,E=Ae,K=We,P=fe,D=_e,F=ee,z=le,L=H,w=ke,T=Pe,i=Te,ce=_l("TableColumnConfig",!0),be=He,ve=Be;return b(),S("div",ql,[n.value.length?(b(),U(ve,{key:0,modelValue:s(d),"onUpdate:modelValue":f[0]||(f[0]=g=>Ue(d)?d.value=g:null),accordion:""},{default:l(()=>[(b(!0),S(j,null,X(n.value,(g,k)=>(b(),U(be,{key:g.id,name:g.id},{title:l(()=>[J("div",Yl,"表列 - "+we(p(g.label,r.label)),1),e(O,{type:"danger",icon:s(Ce),circle:"",size:"small",onClick:Q(o=>a(k),["stop"])},null,8,["icon","onClick"]),e(O,{type:"primary",icon:s(ie),circle:"",size:"small",style:{"margin-right":"10px"},onClick:Q(o=>v(g),["stop"])},null,8,["icon","onClick"])]),default:l(()=>[e(i,{gutter:s(he)},{default:l(()=>[e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"label"]},{label:l(()=>[e(h,{label:"列名称"})]),default:l(()=>[e(V,{modelValue:g.label,"onUpdate:modelValue":o=>g.label=o,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"prop"]},{label:l(()=>[e(h,{label:"字段名称"})]),default:l(()=>[e(V,{modelValue:g.prop,"onUpdate:modelValue":o=>g.prop=o,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"width"]},{label:l(()=>[e(h,{label:"列宽度"})]),default:l(()=>[e(K,{modelValue:g.width,"onUpdate:modelValue":o=>g.width=o,placeholder:"请输入",min:50,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"minWidth"]},{label:l(()=>[e(h,{label:"列最小宽度","tooltip-content":"该设置会把剩余宽度按比例分配给设置了该属性的列"})]),default:l(()=>[e(K,{modelValue:g.minWidth,"onUpdate:modelValue":o=>g.minWidth=o,placeholder:"请输入",min:50,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"fixed"]},{label:l(()=>[e(h,{label:"固定列"})]),default:l(()=>[e(D,{modelValue:g.fixed,"onUpdate:modelValue":o=>g.fixed=o,placeholder:"请选择",clearable:""},{default:l(()=>[(b(!0),S(j,null,X(s(Wl),o=>(b(),U(P,{key:o.value,label:`${o.value}-${o.label}`,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"formatterType"]},{label:l(()=>[e(h,{label:"数据回显类型","tooltip-content":"数据回显时的转换规则或格式化类型，不选时直接回显该字段数据"})]),default:l(()=>[e(D,{modelValue:g.formatterType,"onUpdate:modelValue":o=>g.formatterType=o,placeholder:"请选择",clearable:"",onChange:o=>m(o,g)},{default:l(()=>[(b(!0),S(j,null,X(s(Gl),o=>(b(),U(P,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["prop"])]),_:2},1024),e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"showOverflowTooltip"]},{label:l(()=>[e(h,{label:"内容超长开启Tooltip"})]),default:l(()=>[e(z,{modelValue:g.showOverflowTooltip,"onUpdate:modelValue":o=>g.showOverflowTooltip=o},{default:l(()=>[e(F,{label:!0},{default:l(()=>f[1]||(f[1]=[I("是")])),_:1}),e(F,{label:!1},{default:l(()=>f[2]||(f[2]=[I("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),e(E,null,{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"sortable"]},{label:l(()=>[e(h,{label:"开启排序"})]),default:l(()=>[e(z,{modelValue:g.sortable,"onUpdate:modelValue":o=>g.sortable=o},{default:l(()=>[e(F,{label:!0},{default:l(()=>f[3]||(f[3]=[I("是")])),_:1}),e(F,{label:!1},{default:l(()=>f[4]||(f[4]=[I("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),g.formatterType==="dynamic_data_transform"?(b(),U(E,{key:0},{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"isTreeData"]},{label:l(()=>[e(h,{label:"是否树形数据"})]),default:l(()=>[e(z,{modelValue:g.isTreeData,"onUpdate:modelValue":o=>g.isTreeData=o},{default:l(()=>[e(F,{label:!0},{default:l(()=>f[5]||(f[5]=[I("是")])),_:1}),e(F,{label:!1},{default:l(()=>f[6]||(f[6]=[I("否")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0),g.formatterType==="static_data_transform"?(b(),U(E,{key:1},{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"staticDataKey"]},{label:l(()=>[e(h,{label:"静态数据Key","tooltip-content":"关联当前view的静态数据Key配置"})]),default:l(()=>[e(V,{modelValue:g.staticDataKey,"onUpdate:modelValue":o=>g.staticDataKey=o,placeholder:"例：STATIC_DATA_KEY",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0),g.formatterType==="date_format"?(b(),U(E,{key:2},{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp),"format"]},{label:l(()=>[e(h,{label:"格式化日期"})]),default:l(()=>[e(V,{modelValue:g.format,"onUpdate:modelValue":o=>g.format=o,placeholder:"yyyy-MM-dd HH:mm:ss",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0),g.formatterType==="dynamic_data_transform"?(b(),U(T,{key:3,span:24},{default:l(()=>[e(C,{prop:[...u(k,r.formItemProp)]},{label:l(()=>[e(L,{label:"动态数据回显接口配置"})]),default:l(()=>[e(w,{modelValue:n.value[k].apiConfig,"onUpdate:modelValue":o=>n.value[k].apiConfig=o,"form-item-prop":[...u(k,r.formItemProp)]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["prop"])]),_:2},1024)):R("",!0)]),_:2},1032,["gutter"]),e(C,{prop:[...u(k,r.formItemProp)]},{label:l(()=>[e(L,{label:"子表列配置"})]),default:l(()=>[e(ce,{root:!1,modelValue:g.tableColumnItems,"onUpdate:modelValue":o=>g.tableColumnItems=o,"form-item-prop":u(k,r.formItemProp),label:p(g.label,r.label),"is-sub-level":""},null,8,["modelValue","onUpdate:modelValue","form-item-prop","label"])]),_:2},1032,["prop"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):R("",!0),n.value.length?R("",!0):(b(),S("div",jl,"暂未配置")),r.root?(b(),U(O,{key:2,type:"primary",icon:s(ie),onClick:t,style:{width:"100%","margin-top":"10px"}},{default:l(()=>f[7]||(f[7]=[I(" 新增表列 ")])),_:1},8,["icon"])):R("",!0)])}}}),Jl=Ne(Xl,[["__scopeId","data-v-4c5f2302"]]),Ql=M({__name:"highlight-current-row-editor",props:{options:{},label:{default:"高亮当前行"},formItemProp:{default:()=>["options","highlightCurrentRow"]},formItemRules:{}},setup(_){const d=x(_,"options");return(t,v)=>{const a=H,m=ee,u=le,p=q;return b(),U(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(d).highlightCurrentRow,"onUpdate:modelValue":v[0]||(v[0]=y=>s(d).highlightCurrentRow=y)},{default:l(()=>[e(m,{label:!0},{default:l(()=>v[1]||(v[1]=[I("是")])),_:1}),e(m,{label:!1},{default:l(()=>v[2]||(v[2]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),Zl=M({__name:"virtualized-editor",props:{options:{},label:{default:"虚拟化表格"},formItemProp:{default:()=>["options","virtualized"]},formItemRules:{}},setup(_){const d=x(_,"options");return(t,v)=>{const a=H,m=ee,u=le,p=q;return b(),U(p,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label},null,8,["label"])]),default:l(()=>[e(u,{modelValue:s(d).virtualized,"onUpdate:modelValue":v[0]||(v[0]=y=>s(d).virtualized=y)},{default:l(()=>[e(m,{label:!0},{default:l(()=>v[1]||(v[1]=[I("是")])),_:1}),e(m,{label:!1},{default:l(()=>v[2]||(v[2]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),xl=M({__name:"lazy-editor",props:{options:{},label:{default:"懒加载子节点数据"},formItemProp:{default:()=>["options","lazy"]},formItemRules:{}},emits:["change"],setup(_){const d=x(_,"options");function t(v,a){v||(a.loadApiMethod="GET",a.loadApi=void 0,a.loadApiParams=void 0)}return(v,a)=>{const m=H,u=ee,p=le,y=q;return b(),U(y,{prop:v.formItemProp},{label:l(()=>[e(m,{label:v.label},null,8,["label"])]),default:l(()=>[e(p,{modelValue:s(d).lazy,"onUpdate:modelValue":a[0]||(a[0]=r=>s(d).lazy=r),onChange:a[1]||(a[1]=r=>t(r,s(d)))},{default:l(()=>[e(u,{label:!0},{default:l(()=>a[2]||(a[2]=[I("是")])),_:1}),e(u,{label:!1},{default:l(()=>a[3]||(a[3]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["prop"])}}}),eo=M({__name:"row-key-editor",props:{options:{},label:{default:"行数据Key"},formItemProp:{default:()=>["options","rowKey"]},formItemRules:{}},setup(_){const d=x(_,"options");return(t,v)=>{const a=H,m=Z,u=q;return b(),U(u,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label,"tooltip-content":"用来优化 Table 的渲染，显示树形数据时，该属性是必填的"},null,8,["label"])]),default:l(()=>[e(m,{modelValue:s(d).rowKey,"onUpdate:modelValue":v[0]||(v[0]=p=>s(d).rowKey=p),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),lo=M({__name:"item-children-editor",props:{options:{},label:{default:"children别名"},formItemProp:{default:()=>["options","itemChildren"]},formItemRules:{}},setup(_){const d=x(_,"options");return(t,v)=>{const a=H,m=Z,u=q;return b(),U(u,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label,"tooltip-content":"渲染嵌套数据时的子节点 key 别名"},null,8,["label"])]),default:l(()=>[e(m,{modelValue:s(d).itemChildren,"onUpdate:modelValue":v[0]||(v[0]=p=>s(d).itemChildren=p),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),oo=M({__name:"item-has-children-editor",props:{options:{},label:{default:"hasChildren别名"},formItemProp:{default:()=>["options","itemHasChildren"]},formItemRules:{}},setup(_){const d=x(_,"options");return(t,v)=>{const a=H,m=Z,u=q;return b(),U(u,{prop:t.formItemProp},{label:l(()=>[e(a,{label:t.label,"tooltip-content":"渲染嵌套数据时，指定 row 中的 hasChildren 字段来指定哪些行是包含子节点"},null,8,["label"])]),default:l(()=>[e(m,{modelValue:s(d).itemHasChildren,"onUpdate:modelValue":v[0]||(v[0]=p=>s(d).itemHasChildren=p),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1},8,["prop"])}}}),so=M({__name:"d-table",props:{modelValue:{default:()=>({options:{}})},modelModifiers:{}},emits:["update:modelValue"],setup(_){const n=me(_,"modelValue");return(d,t)=>{const v=Vl,a=Ae,m=H,u=fe,p=_e,y=q,r=We,f=oo,O=lo,h=eo,V=ee,C=le,E=xl,K=Zl,P=Ql,D=H,F=Jl,z=Pe,L=ke,w=Hl,T=Te;return b(),U(T,{gutter:s(he)},{default:l(()=>[e(a,null,{default:l(()=>[e(v,{"form-data":n.value},null,8,["form-data"])]),_:1}),e(a,null,{default:l(()=>[e(y,{prop:"options.tableLayout"},{label:l(()=>[e(m,{label:"表格的布局方式"})]),default:l(()=>[e(p,{modelValue:n.value.options.tableLayout,"onUpdate:modelValue":t[0]||(t[0]=i=>n.value.options.tableLayout=i),placeholder:"请选择",clearable:""},{default:l(()=>[(b(!0),S(j,null,X(s(cl),i=>(b(),U(u,{key:i.value,label:`${i.label} - ${i.value}`,value:i.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(y,{label:"操作列宽度",prop:["options","operateColumnWidth"]},{default:l(()=>[e(r,{modelValue:n.value.options.operateColumnWidth,"onUpdate:modelValue":t[1]||(t[1]=i=>n.value.options.operateColumnWidth=i),placeholder:"请输入",min:100,max:999,step:1,controls:!0,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(f,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(O,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(h,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(y,{prop:"options.showOverflowTooltip"},{label:l(()=>[e(m,{label:"内容超长开启Tooltip","tooltip-content":"将影响全部列的展示"})]),default:l(()=>[e(C,{modelValue:n.value.options.showOverflowTooltip,"onUpdate:modelValue":t[2]||(t[2]=i=>n.value.options.showOverflowTooltip=i)},{default:l(()=>[e(V,{label:!0},{default:l(()=>t[12]||(t[12]=[I("是")])),_:1}),e(V,{label:!1},{default:l(()=>t[13]||(t[13]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(y,{prop:"options.showPagination"},{label:l(()=>[e(m,{label:"显示分页"})]),default:l(()=>[e(C,{modelValue:n.value.options.showPagination,"onUpdate:modelValue":t[3]||(t[3]=i=>n.value.options.showPagination=i)},{default:l(()=>[e(V,{label:!0},{default:l(()=>t[14]||(t[14]=[I("是")])),_:1}),e(V,{label:!1},{default:l(()=>t[15]||(t[15]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(y,{prop:["options","showSelection"]},{label:l(()=>[e(m,{label:"显示多选框"})]),default:l(()=>[e(C,{modelValue:n.value.options.showSelection,"onUpdate:modelValue":t[4]||(t[4]=i=>n.value.options.showSelection=i)},{default:l(()=>[e(V,{label:!0},{default:l(()=>t[16]||(t[16]=[I("是")])),_:1}),e(V,{label:!1},{default:l(()=>t[17]||(t[17]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(E,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(K,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(y,{prop:"options.autoCalcMaxHeight"},{label:l(()=>[e(m,{label:"自动计算最大高度","tooltip-content":"控制列表数据是否在一屏内展示"})]),default:l(()=>[e(C,{modelValue:n.value.options.autoCalcMaxHeight,"onUpdate:modelValue":t[5]||(t[5]=i=>n.value.options.autoCalcMaxHeight=i)},{default:l(()=>[e(V,{label:!0},{default:l(()=>t[18]||(t[18]=[I("是")])),_:1}),e(V,{label:!1},{default:l(()=>t[19]||(t[19]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(a,null,{default:l(()=>[e(P,{options:n.value.options},null,8,["options"])]),_:1}),e(a,null,{default:l(()=>[e(y,{prop:"options.flexible"},{label:l(()=>[e(m,{label:"主轴弹性","tooltip-content":"确保主轴的最小尺寸，以便不超过内容"})]),default:l(()=>[e(C,{modelValue:n.value.options.flexible,"onUpdate:modelValue":t[6]||(t[6]=i=>n.value.options.flexible=i)},{default:l(()=>[e(V,{label:!0},{default:l(()=>t[20]||(t[20]=[I("是")])),_:1}),e(V,{label:!1},{default:l(()=>t[21]||(t[21]=[I("否")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(z,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(y,{prop:"options.tableColumnItems"},{label:l(()=>[e(D,{label:"表列配置"})]),default:l(()=>[e(F,{modelValue:n.value.options.tableColumnItems,"onUpdate:modelValue":t[7]||(t[7]=i=>n.value.options.tableColumnItems=i),root:"","form-item-prop":["options","tableColumnItems"]},null,8,["modelValue"])]),_:1})]),_:1}),e(z,{span:24},{default:l(()=>[e(y,{prop:"options.apiConfig"},{label:l(()=>[e(D,{label:"列表接口配置"})]),default:l(()=>[e(L,{modelValue:n.value.options.apiConfig,"onUpdate:modelValue":t[8]||(t[8]=i=>n.value.options.apiConfig=i),"form-item-prop":["options","apiConfig"]},null,8,["modelValue"])]),_:1})]),_:1}),n.value.options.lazy?(b(),U(z,{key:0,span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(y,{prop:"options.lazyApiConfig"},{label:l(()=>[e(D,{label:"懒加载子节点接口配置"})]),default:l(()=>[e(L,{modelValue:n.value.options.lazyApiConfig,"onUpdate:modelValue":t[9]||(t[9]=i=>n.value.options.lazyApiConfig=i),"form-item-prop":["options","lazyApiConfig"]},null,8,["modelValue"])]),_:1})]),_:1})):R("",!0),e(z,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(y,{prop:"options.tableOperations"},{label:l(()=>[e(D,{label:"表格操作配置"})]),default:l(()=>[e(w,{modelValue:n.value.options.tableOperations,"onUpdate:modelValue":t[10]||(t[10]=i=>n.value.options.tableOperations=i),"form-item-prop":["options","tableOperations"]},null,8,["modelValue"])]),_:1})]),_:1}),e(z,{span:24,style:{"margin-top":"18px"}},{default:l(()=>[e(y,{prop:"options.tableColumnOperations"},{label:l(()=>[e(D,{label:"表列操作配置"})]),default:l(()=>[e(w,{modelValue:n.value.options.tableColumnOperations,"onUpdate:modelValue":t[11]||(t[11]=i=>n.value.options.tableColumnOperations=i),"form-item-prop":["options","tableColumnOperations"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["gutter"])}}});export{so as default};
