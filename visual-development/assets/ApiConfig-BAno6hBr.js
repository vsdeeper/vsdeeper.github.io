import{O as j,a8 as R,al as W,ab as le,aa as te,aN as oe,P as Q,Q as se,r as F,aO as q,W as ne,a7 as de,l as K,p as f,d as V,o as c,a as h,q as D,j as x,u as a,s as G,c as T,w as u,m as ie,aP as re,aQ as ue,T as pe,aR as ce,b as k,z as w,t as J,e as p,a4 as me,a2 as Y,at as fe,J as _e,af as ve,ag as ye,v as be,x as ge,D as N,aS as he,H as X,_ as Z,ay as Ce,y as Ee,f as U,aT as Te,aU as ke,F as $,A as B,G as Ve,az as Ie,B as we,E as Pe,aC as xe,I as He}from"./index-BZtV8Jll.js";import{_ as $e,d as Ne,E as Ae,b as Be}from"./constants-Dre1jpmh.js";const z=s=>le(s)||te(s)||oe(s),Oe=j({accordion:Boolean,modelValue:{type:Q([Array,String,Number]),default:()=>se([])}}),De={[R]:z,[W]:z},ee=Symbol("collapseContextKey"),Ke=(s,t)=>{const n=F(q(s.modelValue)),i=d=>{n.value=d;const o=s.accordion?n.value[0]:n.value;t(R,o),t(W,o)},e=d=>{if(s.accordion)i([n.value[0]===d?"":d]);else{const o=[...n.value],l=o.indexOf(d);l>-1?o.splice(l,1):o.push(d),i(o)}};return ne(()=>s.modelValue,()=>n.value=q(s.modelValue),{deep:!0}),de(ee,{activeNames:n,handleItemClick:e}),{activeNames:n,setActiveNames:i}},Se=()=>{const s=K("collapse");return{rootKls:f(()=>s.b())}},Ue=V({name:"ElCollapse"}),Fe=V({...Ue,props:Oe,emits:De,setup(s,{expose:t,emit:n}){const i=s,{activeNames:e,setActiveNames:d}=Ke(i,n),{rootKls:o}=Se();return t({activeNames:e,setActiveNames:d}),(l,m)=>(c(),h("div",{class:x(a(o))},[D(l.$slots,"default")],2))}});var Ge=G(Fe,[["__file","collapse.vue"]]);const Me=V({name:"ElCollapseTransition"}),Le=V({...Me,setup(s){const t=K("collapse-transition"),n=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},i={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){n(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){n(e)},leaveCancelled(e){n(e)}};return(e,d)=>(c(),T(ue,ie({name:a(t).b()},re(i)),{default:u(()=>[D(e.$slots,"default")]),_:3},16,["name"]))}});var O=G(Le,[["__file","collapse-transition.vue"]]);O.install=s=>{s.component(O.name,O)};const qe=O,ze=j({title:{type:String,default:""},name:{type:Q([String,Number]),default:void 0},disabled:Boolean}),je=s=>{const t=pe(ee),{namespace:n}=K("collapse"),i=F(!1),e=F(!1),d=ce(),o=f(()=>d.current++),l=f(()=>{var C;return(C=s.name)!=null?C:`${n.value}-id-${d.prefix}-${a(o)}`}),m=f(()=>t==null?void 0:t.activeNames.value.includes(a(l)));return{focusing:i,id:o,isActive:m,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:i.value=!0},50)},handleHeaderClick:()=>{s.disabled||(t==null||t.handleItemClick(a(l)),i.value=!1,e.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(a(l))}}},Re=(s,{focusing:t,isActive:n,id:i})=>{const e=K("collapse"),d=f(()=>[e.b("item"),e.is("active",a(n)),e.is("disabled",s.disabled)]),o=f(()=>[e.be("item","header"),e.is("active",a(n)),{focusing:a(t)&&!s.disabled}]),l=f(()=>[e.be("item","arrow"),e.is("active",a(n))]),m=f(()=>e.be("item","wrap")),_=f(()=>e.be("item","content")),y=f(()=>e.b(`content-${a(i)}`)),b=f(()=>e.b(`head-${a(i)}`));return{arrowKls:l,headKls:o,rootKls:d,itemWrapperKls:m,itemContentKls:_,scopedContentId:y,scopedHeadId:b}},We=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],Qe=["id","aria-hidden","aria-labelledby"],Je=V({name:"ElCollapseItem"}),Ye=V({...Je,props:ze,setup(s,{expose:t}){const n=s,{focusing:i,id:e,isActive:d,handleFocus:o,handleHeaderClick:l,handleEnterClick:m}=je(n),{arrowKls:_,headKls:y,rootKls:b,itemWrapperKls:C,itemContentKls:S,scopedContentId:H,scopedHeadId:A}=Re(n,{focusing:i,isActive:d,id:e});return t({isActive:d}),(I,g)=>(c(),h("div",{class:x(a(b))},[k("button",{id:a(A),class:x(a(y)),"aria-expanded":a(d),"aria-controls":a(H),"aria-describedby":a(H),tabindex:I.disabled?-1:0,type:"button",onClick:g[0]||(g[0]=(...E)=>a(l)&&a(l)(...E)),onKeydown:g[1]||(g[1]=fe(_e((...E)=>a(m)&&a(m)(...E),["stop","prevent"]),["space","enter"])),onFocus:g[2]||(g[2]=(...E)=>a(o)&&a(o)(...E)),onBlur:g[3]||(g[3]=E=>i.value=!1)},[D(I.$slots,"title",{},()=>[w(J(I.title),1)]),p(a(Y),{class:x(a(_))},{default:u(()=>[p(a(me))]),_:1},8,["class"])],42,We),p(a(qe),null,{default:u(()=>[ve(k("div",{id:a(H),role:"region",class:x(a(C)),"aria-hidden":!a(d),"aria-labelledby":a(A)},[k("div",{class:x(a(S))},[D(I.$slots,"default")],2)],10,Qe),[[ye,a(d)]])]),_:3})],2))}});var ae=G(Ye,[["__file","collapse-item.vue"]]);const ua=be(Ge,{CollapseItem:ae}),pa=ge(ae),Xe={class:"my-divider-title"},Ze=V({__name:"my-divider-title",props:{label:{},suffixIcon:{}},emits:["click-suffix-icon"],setup(s,{emit:t}){const n=t;return(i,e)=>{const d=he,o=X;return c(),h("div",Xe,[p(d,{"content-position":"left"},{default:u(()=>[w(J(i.label),1)]),_:1}),i.suffixIcon?(c(),T(o,{key:0,type:"primary",size:"small",icon:i.suffixIcon,circle:"",onClick:e[0]||(e[0]=l=>n("click-suffix-icon"))},null,8,["icon"])):N("",!0)])}}}),ea=Z(Ze,[["__scopeId","data-v-97fb9531"]]),aa=["GET","POST","PATCH","PUT","DELETE"],la=[{label:"自动获取",value:"auto"},{label:"数字",value:"number"},{label:"字符串",value:"string"}],ta={class:"api-config"},oa={class:"params-config"},sa={class:"label"},na={key:1,class:"nodata"},da=V({__name:"ApiConfig",props:Ce({formItemProp:{default:()=>["options"]}},{modelValue:{default:()=>({params:[]})},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const t=Ee(s,"modelValue"),n=f(()=>{var _;const{activeDesignData:o,designData:l}=U(),m=Te(o,l);return((_=m==null?void 0:m.options.globalApiConfig)==null?void 0:_.filter(y=>!!y.name))??[]});function i(){t.value.params||(t.value.params=[]),t.value.params.push({key:"id",valueType:"auto"})}function e(o){var l;(l=t.value.params)==null||l.splice(o,1)}function d(o,l){switch(o){case"valueType":{l.value=void 0;break}}}return(o,l)=>{var E,M,L;const m=$e,_=Be,y=Ne,b=we,C=Pe,S=ea,H=Y,A=xe,I=Ae,g=X;return c(),h("div",ta,[a(ke)((E=a(U)().activeDesignData)==null?void 0:E.id,a(U)().designData)?N("",!0):(c(),T(b,{key:0,prop:[...o.formItemProp,"useGlobalApi"]},{label:u(()=>[p(m,{label:"使用全局接口"})]),default:u(()=>[p(y,{modelValue:t.value.useGlobalApi,"onUpdate:modelValue":l[0]||(l[0]=r=>t.value.useGlobalApi=r),placeholder:"请选择",clearable:"",filterable:""},{default:u(()=>[(c(!0),h($,null,B(a(n),(r,P)=>(c(),T(_,{key:"useGlobalApi"+P,label:r.name,value:r.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["prop"])),t.value.useGlobalApi?N("",!0):(c(),h($,{key:1},[p(b,{prop:[...o.formItemProp,"name"]},{label:u(()=>[p(m,{label:"封装名称"},{"tooltip-content":u(()=>l[4]||(l[4]=[w(" 请加上query前缀，例如：queryTableData ")])),_:1})]),default:u(()=>[p(C,{modelValue:t.value.name,"onUpdate:modelValue":l[1]||(l[1]=r=>t.value.name=r),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1},8,["prop"]),p(b,{prop:[...o.formItemProp,"url"],label:"接口地址"},{default:u(()=>[p(C,{modelValue:t.value.url,"onUpdate:modelValue":l[3]||(l[3]=r=>t.value.url=r),clearable:"",placeholder:"请输入"},{prepend:u(()=>[p(y,{modelValue:t.value.method,"onUpdate:modelValue":l[2]||(l[2]=r=>t.value.method=r),placeholder:"类型",style:{width:"100px"}},{default:u(()=>[(c(!0),h($,null,B(a(aa),r=>(c(),T(_,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["prop"]),k("div",oa,[p(S,{label:"参数","suffix-icon":a(Ve),onClickSuffixIcon:i},null,8,["suffix-icon"]),(M=t.value.params)!=null&&M.length?(c(),T(I,{key:0,class:"header",align:"middle"},{default:u(()=>[l[7]||(l[7]=k("div",{class:"label"},"字段名称",-1)),k("div",sa,[l[6]||(l[6]=w(" 字段值 ")),p(A,{placement:"top"},{content:u(()=>l[5]||(l[5]=[w(" 表格操作中的自动获取代表批量操作时的自动获取多行数据的某个key的值；"),k("br",null,null,-1),w(" 表列操作中的自动获取代表单行操作时自动获取当前行的key的值，key默认取字段名称配置，配置无效；"),k("br",null,null,-1),w(" 以上其他场景下的自动获取配置无效； ")])),default:u(()=>[p(H,{color:"#ffae1f",style:{"margin-left":"3px"}},{default:u(()=>[p(a(Ie))]),_:1})]),_:1})])]),_:1})):N("",!0),(c(!0),h($,null,B(t.value.params,(r,P)=>(c(),T(I,{key:"params"+P,align:"middle"},{default:u(()=>[p(b,{prop:[...o.formItemProp,"params",P+"","key"]},{default:u(()=>[p(C,{modelValue:r.key,"onUpdate:modelValue":v=>r.key=v,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),p(b,{prop:[...o.formItemProp,"params",P+"","value"]},{default:u(()=>[p(C,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,class:"input",placeholder:r.valueType==="auto"?"自动获取的行数据key":"请输入"},{prepend:u(()=>[p(y,{modelValue:r.valueType,"onUpdate:modelValue":v=>r.valueType=v,placeholder:"类型",style:{width:"100px"},onChange:v=>d("valueType",r)},{default:u(()=>[(c(!0),h($,null,B(a(la),v=>(c(),T(_,{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop"]),p(g,{type:"danger",size:"small",icon:a(He),circle:"",onClick:v=>e(P)},null,8,["icon","onClick"])]),_:2},1024))),128)),(L=t.value.params)!=null&&L.length?N("",!0):(c(),h("div",na,"暂未配置"))])],64))])}}}),ca=Z(da,[["__scopeId","data-v-65a1e957"]]);export{ua as E,ca as _,pa as a,ea as b};
