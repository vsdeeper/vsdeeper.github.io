import{cr as z,d as w,y as C,r as q,W as B,o as s,c as n,w as u,e as o,z as f,u as V,az as M,C as r,B as k,a as N,F as I,A as T,c0 as F,dw as R,b$ as W,c2 as $,dx as E,cD as J,co as K,cJ as L,cI as O,dy as Z}from"./index-BtQArEjb.js";import{K as j}from"./OptionsConfig-klyJGaKJ-BOtTmo6p.js";import{O as G}from"./constants-CChYDb4d-BNrL-lGq.js";import{k as H,V as P}from"./index-CHGDm93g-D7uerUmy.js";const Q=w({__name:"SelectDesigner",props:{modelValue:{default:()=>({})},modelModifiers:{}},emits:["update:modelValue"],setup(U){const l=C(U,"modelValue"),p=q();B([p,()=>l.value.options.optionData,()=>l.value.options.multiple,()=>l.value.options.dataSource],v=>{const[e,i,t,b]=v;if(b==="customize"){const m=i==null?void 0:i.map(d=>d.valueType==="number"?Number(d.value):d.value);if(t){const d=e==null?void 0:e.filter(c=>m==null?void 0:m.includes(c));d!=null&&d.length?l.value.options.defaultValue=d:l.value.options.defaultValue=void 0}else m!=null&&m.includes(e)?l.value.options.defaultValue=e:l.value.options.defaultValue=void 0}},{deep:!0});const _=(v,e)=>{switch(v){case"multiple":p.value=void 0,l.value.options.defaultValue=void 0;break;case"dataSource":p.value=void 0,l.value.options.defaultValue=void 0,l.value.options.optionData=[],e==="systemApi"?l.value.options.map={label:"label",value:"value"}:e==="customize"&&(l.value.options.map={});break}};return(v,e)=>{const i=F,t=R,b=W,m=$,d=E,c=H,y=P,A=J,h=j,D=K,S=L,g=O,x=Z;return s(),n(x,{model:l.value,ref:"formRef","label-width":"100px"},{default:u(()=>[o(t,{label:"唯一标识",prop:"id",rules:[{required:!0,message:"必填项"}]},{default:u(()=>[o(i,{"model-value":l.value.id,placeholder:"请输入",disabled:""},null,8,["model-value"])]),_:1}),o(t,{prop:"idAlias"},{label:u(()=>[e[15]||(e[15]=f(" ID别名 ")),o(m,{content:"表单的 value 值对应的 key，默认为唯一标识",placement:"top",effect:"dark"},{default:u(()=>[o(b,null,{default:u(()=>[o(V(M))]),_:1})]),_:1})]),default:u(()=>[o(i,{modelValue:l.value.idAlias,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.idAlias=a),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(t,{label:"标签名称",prop:"options.label"},{default:u(()=>[o(i,{modelValue:l.value.options.label,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.options.label=a),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(t,{label:"占位内容",prop:"options.placeholder"},{default:u(()=>[o(i,{modelValue:l.value.options.placeholder,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.options.placeholder=a),placeholder:"请输入",type:"textarea",autosize:""},null,8,["modelValue"])]),_:1}),o(t,{label:"多选",prop:"options.multiple"},{default:u(()=>[o(d,{modelValue:l.value.options.multiple,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.options.multiple=a),"active-value":!0,"inactive-value":!1,onChange:e[4]||(e[4]=a=>_("multiple",a))},null,8,["modelValue"])]),_:1}),o(t,{label:"必填",prop:"options.required"},{default:u(()=>[o(d,{modelValue:l.value.options.required,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.options.required=a),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1}),o(t,{label:"选项数据",prop:"options.dataSource"},{default:u(()=>[o(y,{modelValue:l.value.options.dataSource,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.options.dataSource=a),onChange:e[7]||(e[7]=a=>_("dataSource",a))},{default:u(()=>[o(c,{label:"customize"},{default:u(()=>e[16]||(e[16]=[f("自定义")])),_:1}),o(c,{label:"systemApi"},{default:u(()=>e[17]||(e[17]=[f("系统接口")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l.value.options.dataSource==="customize"?(s(),n(t,{key:0,prop:"options.optionData","label-position":"top",class:"option-data"},{label:u(()=>[o(A,{direction:"horizontal"},{default:u(()=>e[18]||(e[18]=[f("选项配置")])),_:1})]),default:u(()=>[l.value.options.multiple?r("",!0):(s(),n(y,{key:0,modelValue:V(p),"onUpdate:modelValue":e[9]||(e[9]=a=>k(p)?p.value=a:null)},{default:u(()=>[o(h,{modelValue:l.value.options.optionData,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.options.optionData=a),type:"select",multiple:l.value.options.multiple},null,8,["modelValue","multiple"])]),_:1},8,["modelValue"])),l.value.options.multiple?(s(),n(D,{key:1,modelValue:V(p),"onUpdate:modelValue":e[11]||(e[11]=a=>k(p)?p.value=a:null)},{default:u(()=>[o(h,{modelValue:l.value.options.optionData,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.options.optionData=a),type:"select",multiple:l.value.options.multiple},null,8,["modelValue","multiple"])]),_:1},8,["modelValue"])):r("",!0)]),_:1})):r("",!0),l.value.options.dataSource==="systemApi"?(s(),n(t,{key:1,label:"数据接口",prop:"options.systemApi"},{default:u(()=>[o(g,{modelValue:l.value.options.systemApi,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.options.systemApi=a),placeholder:"请选择",clearable:"",filterable:""},{default:u(()=>[(s(!0),N(I,null,T(V(G),a=>(s(),n(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):r("",!0),l.value.options.dataSource==="systemApi"?(s(),n(t,{key:2,label:"选项名称key",prop:"options.map.label"},{default:u(()=>[o(i,{modelValue:l.value.options.map.label,"onUpdate:modelValue":e[13]||(e[13]=a=>l.value.options.map.label=a),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])]),_:1})):r("",!0),l.value.options.dataSource==="systemApi"?(s(),n(t,{key:3,label:"选项值key",prop:"options.map.value"},{default:u(()=>[o(i,{modelValue:l.value.options.map.value,"onUpdate:modelValue":e[14]||(e[14]=a=>l.value.options.map.value=a),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])]),_:1})):r("",!0)]),_:1},8,["model"])}}}),ae=z(Q,[["__scopeId","data-v-f231f994"]]);export{ae as default};
