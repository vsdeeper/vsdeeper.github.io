import{d as g,y as C,o as r,a as v,e,w as o,F as $,A as h,E as k,B as x,_ as y,b as i,r as I,c as U,u as f,C as F,D as w,z as A,G as M,H as z,t as G,I as N,J as R,K as T}from"./index-CWWRlrrt.js";import{E as B,a as D,R as P,_ as j}from"./constants-DHco2zq6.js";import{E as L,_ as S,a as q}from"./ApiConfig-BwJ2uA56.js";const H={class:"common-field"},J=g({__name:"CommonField",props:{modelValue:{default:()=>({})},modelModifiers:{}},emits:["update:modelValue"],setup(c){const l=C(c,"modelValue"),d=[{label:"分页大小",key:"pageSize"},{label:"分页索引",key:"pageIndex"}];return(n,a)=>{const s=k,p=x,u=D,m=B;return r(),v("div",H,[e(m,null,{default:o(()=>[(r(),v($,null,h(d,_=>e(u,{key:_.key,sm:24,md:12,lg:8,xl:6},{default:o(()=>[e(p,{label:_.label},{default:o(()=>[e(s,{modelValue:l.value[_.key],"onUpdate:modelValue":b=>l.value[_.key]=b,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),_:2},1024)),64))]),_:1})])}}}),K=y(J,[["__scopeId","data-v-98c85120"]]),O={class:"api-domain"},W={class:"item"},Q={class:"item"},X={class:"item"},Y=g({__name:"ApiDomain",props:{modelValue:{default:()=>({})},modelModifiers:{}},emits:["update:modelValue"],setup(c){const l=C(c,"modelValue");return(d,n)=>{const a=k;return r(),v("div",O,[i("div",W,[n[3]||(n[3]=i("label",null,"开发环境",-1)),i("div",null,[e(a,{modelValue:l.value.dev,"onUpdate:modelValue":n[0]||(n[0]=s=>l.value.dev=s),placeholder:"例：https://api.github.com",clearable:""},null,8,["modelValue"])])]),i("div",Q,[n[4]||(n[4]=i("label",null,"测试环境",-1)),i("div",null,[e(a,{modelValue:l.value.test,"onUpdate:modelValue":n[1]||(n[1]=s=>l.value.test=s),placeholder:"例：https://api.github.com",clearable:""},null,8,["modelValue"])])]),i("div",X,[n[5]||(n[5]=i("label",null,"生产环境",-1)),i("div",null,[e(a,{modelValue:l.value.prod,"onUpdate:modelValue":n[2]||(n[2]=s=>l.value.prod=s),placeholder:"例：https://api.github.com",clearable:""},null,8,["modelValue"])])])])}}}),Z=y(Y,[["__scopeId","data-v-4d80c2a1"]]),ee={class:"global-api-config"},le={class:"header"},oe={class:"label"},ae={key:1,class:"nodata"},te=g({__name:"GlobalApiConfig",props:{modelValue:{default:()=>[]},modelModifiers:{}},emits:["update:modelValue"],setup(c){const l=C(c,"modelValue"),d=I(1);function n(){l.value.push({params:[]}),d.value=l.value.length}const a=s=>{l.value.splice(s,1)};return(s,p)=>{const u=z,m=S,_=q,b=L;return r(),v("div",ee,[l.value.length?(r(),U(b,{key:0,modelValue:f(d),"onUpdate:modelValue":p[0]||(p[0]=t=>F(d)?d.value=t:null),accordion:""},{default:o(()=>[(r(!0),v($,null,h(l.value,(t,V)=>(r(),U(_,{key:"item"+V,name:V+1},{title:o(()=>[i("div",le,[p[1]||(p[1]=A(" 接口配置 - ")),i("span",oe,G(t.name),1)]),e(u,{type:"danger",icon:f(N),circle:"",size:"small",onClick:R(E=>a(V),["stop"]),style:{"margin-right":"10px"}},null,8,["icon","onClick"])]),default:o(()=>[e(m,{modelValue:l.value[V],"onUpdate:modelValue":E=>l.value[V]=E,"form-item-prop":["options","globalApiConfig",V+""]},null,8,["modelValue","onUpdate:modelValue","form-item-prop"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):w("",!0),l.value.length?w("",!0):(r(),v("div",ae,"暂无配置")),e(u,{type:"primary",icon:f(M),onClick:n,style:{width:"100%","margin-top":"10px"}},{default:o(()=>p[2]||(p[2]=[A(" 新增接口配置 ")])),_:1},8,["icon"])])}}}),ne=y(te,[["__scopeId","data-v-99c3be0a"]]),ie=g({__name:"d-project",props:{modelValue:{default:()=>({options:{}})},modelModifiers:{}},emits:["update:modelValue"],setup(c){const l=C(c,"modelValue");function d(n){switch(n){case"npmrc":window.open("https://docs.npmjs.com/cli/v8/configuring-npm/npmrc","_blank");break}}return(n,a)=>{const s=k,p=x,u=D,m=j,_=K,b=B;return r(),U(b,{gutter:f(P)},{default:o(()=>[e(u,{span:24},{default:o(()=>[e(p,{label:"项目名称",prop:"options.name",rules:[{required:!0,message:"必填项"}]},{default:o(()=>[e(s,{modelValue:l.value.options.name,"onUpdate:modelValue":a[0]||(a[0]=t=>l.value.options.name=t),placeholder:"例：vswift-admin",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(p,{label:"git地址",prop:"options.gitUrl"},{default:o(()=>[e(s,{modelValue:l.value.options.gitUrl,"onUpdate:modelValue":a[1]||(a[1]=t=>l.value.options.gitUrl=t),placeholder:"例：https://github.com/vsdeeper/visual-development.git",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(p,{prop:"options.apiDomain"},{label:o(()=>[e(m,{label:"api域名","tooltip-content":"不配置则表示与页面域名一致"})]),default:o(()=>[e(f(Z),{modelValue:l.value.options.apiDomain,"onUpdate:modelValue":a[2]||(a[2]=t=>l.value.options.apiDomain=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(p,{prop:"options.apiBasePath"},{label:o(()=>[e(m,{label:"api基础路径","tooltip-content":"将拼接在api域名后面"})]),default:o(()=>[e(s,{modelValue:l.value.options.apiBasePath,"onUpdate:modelValue":a[3]||(a[3]=t=>l.value.options.apiBasePath=t),placeholder:"例：/api",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(p,{prop:"options.npmrc"},{label:o(()=>[e(m,{label:".npmrc配置","tooltip-content":"查看配置说明","tooltip-icon":f(T),"tooltip-icon-color":"#409eff","tooltip-icon-link":"",onClickTooltipIcon:a[4]||(a[4]=t=>d("npmrc"))},null,8,["tooltip-icon"])]),default:o(()=>[e(s,{modelValue:l.value.options.npmrc,"onUpdate:modelValue":a[5]||(a[5]=t=>l.value.options.npmrc=t),type:"textarea",autosize:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(p,{prop:"options.commonField"},{label:o(()=>[e(m,{label:"通用字段","tooltip-content":"和服务端交互的字段名称"})]),default:o(()=>[e(_,{modelValue:l.value.options.commonField,"onUpdate:modelValue":a[6]||(a[6]=t=>l.value.options.commonField=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(p,{prop:"options.globalApiConfig"},{label:o(()=>[e(m,{label:"全局接口配置"})]),default:o(()=>[e(f(ne),{modelValue:l.value.options.globalApiConfig,"onUpdate:modelValue":a[7]||(a[7]=t=>l.value.options.globalApiConfig=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(p,{label:"项目描述",prop:"options.description"},{default:o(()=>[e(s,{modelValue:l.value.options.description,"onUpdate:modelValue":a[8]||(a[8]=t=>l.value.options.description=t),type:"textarea",autosize:"",placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["gutter"])}}});export{ie as default};
