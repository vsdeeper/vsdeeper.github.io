import{d as C,u as w,v as z,x as I,o as s,b as m,w as t,e as a,f as V,g as _,q,y as S,B as r,i as B,r as M,F as N,E as T,j as F,k as O,l as R,n as G,z as P,A as j,p as L,s as Y,t as H,_ as J}from"./index-BaHOnCAb.js";import{_ as K}from"./OptionsConfig-Cr9P3JA9.js";import{S as Q}from"./constants-kQMh5otI.js";import{a as W,E as X}from"./index-SDKz7jif.js";import"./index-_SVutcCs.js";import"./constants-0YSy3Igo.js";const Z=C({__name:"SelectDesigner",props:{modelValue:{default:()=>({})},modelModifiers:{}},emits:["update:modelValue"],setup(E){const l=w(E,"modelValue"),i=z();I([i,()=>l.value.options.optionData,()=>l.value.options.multiple,()=>l.value.options.dataSource],v=>{const[e,n,u,b]=v;if(b==="customize"){const d=n==null?void 0:n.map(p=>p.valueType==="number"?Number(p.value):p.value);if(u){const p=e==null?void 0:e.filter(f=>d==null?void 0:d.includes(f));p!=null&&p.length?l.value.options.defaultValue=p:l.value.options.defaultValue=void 0}else d!=null&&d.includes(e)?l.value.options.defaultValue=e:l.value.options.defaultValue=void 0}},{deep:!0});const c=(v,e)=>{switch(v){case"multiple":i.value=void 0,l.value.options.defaultValue=void 0;break;case"dataSource":i.value=void 0,l.value.options.defaultValue=void 0,l.value.options.optionData=[],e==="systemApi"?l.value.options.map={label:"label",value:"value"}:e==="customize"&&(l.value.options.map={});break}};return(v,e)=>{const n=T,u=F,b=O,d=R,p=G,f=W,y=X,g=P,k=K,U=j,x=L,A=Y,D=H;return s(),m(D,{model:l.value,ref:"formRef","label-width":"100px"},{default:t(()=>[a(u,{label:"唯一标识",prop:"id",rules:[{required:!0,message:"必填项"}]},{default:t(()=>[a(n,{"model-value":l.value.id,placeholder:"请输入",disabled:""},null,8,["model-value"])]),_:1}),a(u,{prop:"idAlias"},{label:t(()=>[e[15]||(e[15]=V(" ID别名 ")),a(d,{content:"表单的 value 值对应的 key，默认为唯一标识",placement:"top",effect:"dark"},{default:t(()=>[a(b,null,{default:t(()=>[a(_(q))]),_:1})]),_:1})]),default:t(()=>[a(n,{modelValue:l.value.idAlias,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.idAlias=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),a(u,{label:"标签名称",prop:"options.label"},{default:t(()=>[a(n,{modelValue:l.value.options.label,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.options.label=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),a(u,{label:"占位内容",prop:"options.placeholder"},{default:t(()=>[a(n,{modelValue:l.value.options.placeholder,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.options.placeholder=o),placeholder:"请输入",type:"textarea",autosize:""},null,8,["modelValue"])]),_:1}),a(u,{label:"多选",prop:"options.multiple"},{default:t(()=>[a(p,{modelValue:l.value.options.multiple,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.options.multiple=o),"active-value":!0,"inactive-value":!1,onChange:e[4]||(e[4]=o=>c("multiple",o))},null,8,["modelValue"])]),_:1}),a(u,{label:"必填",prop:"options.required"},{default:t(()=>[a(p,{modelValue:l.value.options.required,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.options.required=o),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1}),a(u,{label:"选项数据",prop:"options.dataSource"},{default:t(()=>[a(y,{modelValue:l.value.options.dataSource,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.options.dataSource=o),onChange:e[7]||(e[7]=o=>c("dataSource",o))},{default:t(()=>[a(f,{label:"customize"},{default:t(()=>e[16]||(e[16]=[V("自定义")])),_:1}),a(f,{label:"systemApi"},{default:t(()=>e[17]||(e[17]=[V("系统接口")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l.value.options.dataSource==="customize"?(s(),m(u,{key:0,prop:"options.optionData","label-position":"top",class:"option-data"},{label:t(()=>[a(g,{direction:"horizontal"},{default:t(()=>e[18]||(e[18]=[V("选项配置")])),_:1})]),default:t(()=>[l.value.options.multiple?r("",!0):(s(),m(y,{key:0,modelValue:_(i),"onUpdate:modelValue":e[9]||(e[9]=o=>S(i)?i.value=o:null)},{default:t(()=>[a(k,{modelValue:l.value.options.optionData,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.options.optionData=o),type:"select",multiple:l.value.options.multiple},null,8,["modelValue","multiple"])]),_:1},8,["modelValue"])),l.value.options.multiple?(s(),m(U,{key:1,modelValue:_(i),"onUpdate:modelValue":e[11]||(e[11]=o=>S(i)?i.value=o:null)},{default:t(()=>[a(k,{modelValue:l.value.options.optionData,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.options.optionData=o),type:"select",multiple:l.value.options.multiple},null,8,["modelValue","multiple"])]),_:1},8,["modelValue"])):r("",!0)]),_:1})):r("",!0),l.value.options.dataSource==="systemApi"?(s(),m(u,{key:1,label:"数据接口",prop:"options.systemApi"},{default:t(()=>[a(A,{modelValue:l.value.options.systemApi,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.options.systemApi=o),placeholder:"请选择",clearable:"",filterable:""},{default:t(()=>[(s(!0),B(N,null,M(_(Q),o=>(s(),m(x,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):r("",!0),l.value.options.dataSource==="systemApi"?(s(),m(u,{key:2,label:"选项名称key",prop:"options.map.label"},{default:t(()=>[a(n,{modelValue:l.value.options.map.label,"onUpdate:modelValue":e[13]||(e[13]=o=>l.value.options.map.label=o),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])]),_:1})):r("",!0),l.value.options.dataSource==="systemApi"?(s(),m(u,{key:3,label:"选项值key",prop:"options.map.value"},{default:t(()=>[a(n,{modelValue:l.value.options.map.value,"onUpdate:modelValue":e[14]||(e[14]=o=>l.value.options.map.value=o),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])]),_:1})):r("",!0)]),_:1},8,["model"])}}}),te=J(Z,[["__scopeId","data-v-f231f994"]]);export{te as default};
